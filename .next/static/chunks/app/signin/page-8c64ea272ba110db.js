(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4217],{1865:(e,t,a)=>{"use strict";a.d(t,{d:()=>i});var s=a(3464),o=a(9509);let n=o.env.NEXT_API_URL;s.A.create({baseURL:n,headers:{"Content-Type":"application/json"}});let r=async e=>{if(!e.ok)throw Error((await e.json()).message||"Something went wrong");return e.json()},i={signup:async e=>r(await fetch("".concat(n,"/business/signup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})),sendVerificationEmail:async(e,t)=>r(await fetch("".concat(n,"/business/sendVerificationEmail"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({businessId:t})})),verifyEmailByLink:async(e,t)=>r(await fetch("".concat(n,"/business/verifyEmailByLink"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({verificationToken:t,_id:e})})),uploadLogo:async(e,t,a)=>{let s=new FormData;s.append("logo",e),s.append("businessId",a);try{let e=await fetch("".concat(o.env.NEXT_API_URL,"/business/uploadBusinessLogo"),{method:"POST",headers:{Authorization:"Bearer ".concat(t)},body:s});if(413===e.status)throw Error("File size too large. Please use a smaller image (max 5MB).");let a=await e.json();if(!e.ok)throw Error(a.message||"Failed to upload logo");let n=a.logoUrl;return n&&!n.startsWith("https://wellnexai.com")&&(n="https://wellnexai.com".concat(n.startsWith("/")?"":"/").concat(n)),{...a,logoUrl:n}}catch(e){if(e instanceof TypeError&&e.message.includes("fetch"))throw Error("Network error. Please check your connection and try again.");throw e}},setThemeColor:async(e,t,a)=>{try{let s=a?JSON.stringify({themeColor:e,businessId:a}):JSON.stringify({themeColor:e}),n=await fetch("".concat(o.env.NEXT_API_URL,"/business/setBusinessThemeColor"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:s}),r=await n.json();if(!n.ok)throw Error(r.message||"Failed to set theme color");return r}catch(e){throw e}},addBusinessKeywords:async(e,t,a)=>{try{let s=await fetch("".concat(o.env.NEXT_API_URL,"/business/addBusinessKeywords"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({keywords:e,businessId:a,replace:!0})}),n=await s.json();if(!s.ok)throw Error(n.message||"Failed to add keywords");return n}catch(e){throw e}},signin:async(e,t)=>{let a=localStorage.getItem("businessId"),s={email:e,password:t};a&&(s.businessId=a);let n=await fetch("".concat(o.env.NEXT_API_URL,"/business/signin"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),r=await n.json();if(!n.ok||!r.status)throw Error(r.message||"Invalid email or password");return r},setupChatbot:async(e,t,a)=>{let s=await fetch("".concat(n,"/business/add-business-questions"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify({businessId:e,questions:t})});if(!s.ok)throw Error((await s.json()).message||"Failed to setup chatbot");return s.json()},forgotPassword:async e=>{try{let t=await fetch("".concat(n,"/business/forgotPassword"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}),a=await t.json();if(!t.ok)throw Error(a.message||"Failed to send reset password email");return a}catch(e){throw console.error("Error in forgotPassword API:",e),e}},resetPassword:async(e,t)=>{let a=await fetch("".concat(n,"/business/resetPassword"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:e,token:t})});if(!a.ok)throw Error((await a.json()).message||"Failed to reset password");return a.json()},checkVerificationStatus:async(e,t)=>{try{let a=await fetch("".concat(n,"/business/verify-status"),{method:"POST",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({businessId:e})}),s=await a.json();if(!a.ok)throw Error(s.message||"Failed to check verification status");return s}catch(e){throw console.error("Error checking verification status:",e),e}}}},2033:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s={src:"/_next/static/media/login.5559b244.png",height:543,width:720,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAGCAMAAADJ2y/JAAAASFBMVEWtop6SnZmanpu2qKKlmJOcpaGyuLWWoJ2ntLG6vrqIjIq2s6+8xL9+hoTJy8fJvbbN0czl4d2GlJKPlJHBrKfkvrfQpqHKw70+ylNgAAAACnRSTlPv+fnv7/n8/f39K1QhfAAAAAlwSFlzAAALEwAACxMBAJqcGAAAADZJREFUeJwFwQcCgDAIALFTaSnQ6fz/T00oltOedKOuOZ7rVGz1+/WslGkRzZyvj1paOAeAiPw3MwHi9krWdwAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:6}},2475:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s={src:"/_next/static/media/logo.16f37a8f.png",height:50,width:150,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAADCAMAAACZFr56AAAAFVBMVEUQEBAAAAAFBgUEBAQFBQUGBgYCAgI1vtbjAAAAB3RSTlMCClM3G0puwcAKVQAAAAlwSFlzAAALEwAACxMBAJqcGAAAACBJREFUeJwVyMERADAIwzA7ge4/Mlc9RUdFeEm2Kx34cQLDAC6f5ld0AAAAAElFTkSuQmCC",blurWidth:8,blurHeight:3}},2657:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9946).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},5018:(e,t,a)=>{"use strict";a.d(t,{default:()=>A});var s=a(5155),o=a(6766),n=a(2033),r=a(6874),i=a.n(r),l=a(5695),d=a(2115),c=a(1865),u=a(2475),h=a(8749),m=a(2657);function A(){let e=(0,l.useRouter)(),[t,a]=(0,d.useState)(""),[r,A]=(0,d.useState)(""),[g,p]=(0,d.useState)(!1),[f,w]=(0,d.useState)(""),[y,x]=(0,d.useState)(!1);(0,d.useEffect)(()=>{let t=localStorage.getItem("onboardingStep");t&&["1","2","3","4"].includes(t)&&e.replace("/onboarding/step-".concat(t))},[e]);let b=()=>t?/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(t)?r.length<8?"Password must be at least 8 characters long":/[a-z]/.test(r)?/[0-9]/.test(r)?/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(r)?null:"Password must contain at least one special character (!@#$%^&*()_+-=[]{};':\"\\|,.<>/?)":"Password must contain at least one number":"Password must contain at least one lowercase letter":"Enter a valid email address":"Email is required",v=async a=>{a.preventDefault(),w("");let s=b();if(s){w(s);return}p(!0);try{var o,n,i,l,d,u,h,m;let a=await c.d.signin(t,r),s=null==a?void 0:null===(o=a.data)||void 0===o?void 0:o.loginToken,A=null==a?void 0:null===(n=a.data)||void 0===n?void 0:n._id,g=null==a?void 0:null===(i=a.data)||void 0===i?void 0:i.roles;s?(localStorage.setItem("token",s),document.cookie="token=".concat(s,"; path=/; max-age=2592000"),document.cookie="authorization=Bearer ".concat(s,"; path=/; max-age=2592000"),A&&localStorage.setItem("businessId",A),g&&g.includes("admin")?window.location.href="/admin/dashboard":(null==a?void 0:null===(d=a.data)||void 0===d?void 0:null===(l=d.nextStep)||void 0===l?void 0:l.length)>0?(localStorage.setItem("nextStep",null==a?void 0:null===(u=a.data)||void 0===u?void 0:u.nextStep),e.push("/onboarding/".concat(null==a?void 0:null===(h=a.data)||void 0===h?void 0:h.nextStep))):(null==a?void 0:null===(m=a.data)||void 0===m?void 0:m.isEmailVerified)?e.push("/dashboard"):e.push("/onboarding/step-6")):w("No token received from server")}catch(e){w(e.message||"Something went wrong. Please try again.")}finally{p(!1)}};return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-[#F8F8FA]",children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row w-full max-w-4xl bg-white rounded-2xl shadow-lg overflow-hidden min-h-[500px]",children:[(0,s.jsx)("div",{className:"w-full md:w-1/2 flex items-center justify-center bg-[#F8F8FA] order-1 md:order-2 mt-6 md:mt-0",children:(0,s.jsx)("div",{className:"relative w-full h-40 md:h-full min-h-[200px] min-w-[200px] max-w-[500px] overflow-hidden shadow-lg flex items-center justify-center",children:(0,s.jsx)(o.default,{src:n.A,alt:"WellnexAI illustration",fill:!0,sizes:"(max-width: 768px) 100vw, 50vw",priority:!0})})}),(0,s.jsxs)("div",{className:"w-full md:w-1/2 flex flex-col justify-center px-8 py-12 md:px-12 order-2 md:order-1",children:[(0,s.jsxs)("div",{className:"mb-10",children:[(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsx)(o.default,{src:u.A,alt:"WellnexAI Logo",width:100,height:200,onClick:()=>e.push("/landing")})}),(0,s.jsx)("h1",{className:"text-3xl md:text-4xl font-bold mb-2 text-center",children:"Sign In"}),(0,s.jsx)("p",{className:"text-gray-500 text-base mb-2 text-center",children:"Your Business. Your AI. Welcome back!"})]}),(0,s.jsxs)("form",{className:"space-y-4 mb-4",onSubmit:v,children:[(0,s.jsx)("div",{children:(0,s.jsx)("input",{type:"email",placeholder:"Email",className:"w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#D6C3FF]",value:t,onChange:e=>a(e.target.value),required:!0})}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:y?"text":"password",placeholder:"Password",className:"w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#D6C3FF] pr-10",value:r,onChange:e=>A(e.target.value),required:!0}),(0,s.jsx)("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500",tabIndex:-1,onClick:()=>x(e=>!e),children:y?(0,s.jsx)(h.A,{className:"h-6 w-6"}):(0,s.jsx)(m.A,{className:"h-6 w-6"})})]}),f&&(0,s.jsx)("div",{className:"text-red-600 text-sm mb-2",children:f}),(0,s.jsx)("button",{type:"submit",className:"w-full py-2 px-4 bg-[rgba(152,124,241,0.5)] border border-[#000000] text-[#000000] font-sm rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-base shadow-sm",disabled:g,children:g?"Logging in...":"Log in"})]}),(0,s.jsxs)("div",{className:"flex flex-col items-center mt-2",children:[(0,s.jsx)(i(),{href:"/forgot-password",className:"text-gray-700 hover:text-gray-900 text-sm mb-2 underline",children:"Forgot your password?"}),(0,s.jsxs)("div",{className:"text-sm text-gray-700",children:["Don't have an account?"," ",(0,s.jsx)(i(),{href:"/signup",className:"text-gray-900 font-medium underline",children:"Sign Up"})]})]})]})]})})}},7906:(e,t,a)=>{Promise.resolve().then(a.bind(a,5018))},8749:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9946).A)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[4212,3464,95,8441,1684,7358],()=>t(7906)),_N_E=e.O()}]);