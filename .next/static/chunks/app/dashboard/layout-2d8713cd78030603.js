(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1954],{2475:(e,a,o)=>{"use strict";o.d(a,{A:()=>t});let t={src:"/_next/static/media/logo.16f37a8f.png",height:50,width:150,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAADCAMAAACZFr56AAAAFVBMVEUQEBAAAAAFBgUEBAQGBgYFBQUCAgJg1VDIAAAAB3RSTlMCClM3ShtuDx4ixwAAAAlwSFlzAAALEwAACxMBAJqcGAAAACBJREFUeJwVyMERADAIwzA7ge4/Mlc9RVdFeEmmI134cQLLAC4e3IyrAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:3}},4783:(e,a,o)=>{"use strict";o.d(a,{A:()=>t});let t=(0,o(9946).A)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])},4830:(e,a,o)=>{Promise.resolve().then(o.bind(o,8345))},7340:(e,a,o)=>{"use strict";o.d(a,{A:()=>t});let t=(0,o(9946).A)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]])},8345:(e,a,o)=>{"use strict";o.r(a),o.d(a,{default:()=>x});var t=o(5155),n=o(2115),s=o(5695),i=o(6874),l=o.n(i),c=o(7340),r=o(6766),d=o(2475);function h(){let e=(0,s.useRouter)(),a=(0,n.useCallback)(async()=>{let e=localStorage.getItem("token");console.log("Token:",e);try{await fetch("https://wellnexai.com/api/business/logout",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}catch(e){}localStorage.clear(),sessionStorage.clear(),document.cookie.split(";").forEach(e=>{let[a]=e.split("=");document.cookie="".concat(a.trim(),"=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT; domain=").concat(window.location.hostname)}),["onboardingToken","token","authorization","adminDashboardLock","dashboardLock","adminToken","adminAuthorization","currentStep","inOnboarding","userRole","userData","sessionId","refreshToken"].forEach(e=>{document.cookie="".concat(e,"=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT; domain=").concat(window.location.hostname)}),window.caches&&caches.keys().then(e=>{e.forEach(e=>{caches.delete(e)})}),window.location.href="/signin"},[e]);return(0,t.jsxs)("div",{className:"flex w-[250px] md:w-[193px] flex-col border-r border-gray-200 bg-white h-full",children:[(0,t.jsx)("div",{className:"flex h-16 items-center px-4",children:(0,t.jsx)(l(),{href:"/dashboard",className:"flex items-center",children:(0,t.jsx)(r.default,{src:d.A,alt:"WellnexAI Logo",width:150,height:200})})}),(0,t.jsx)("div",{className:"flex flex-col px-2 py-2",children:(0,t.jsxs)(l(),{href:"/dashboard",className:"flex items-center gap-2 rounded-md bg-black px-3 py-2 text-white hover:bg-gray-800",children:[(0,t.jsx)(c.A,{size:18}),(0,t.jsx)("span",{children:"Dashboard"})]})}),(0,t.jsx)("button",{onClick:a,className:"w-full text-left px-4 py-2 hover:bg-gray-100",children:"Logout"})]})}function m(){let[e,a]=(0,n.useState)(null);return(0,n.useEffect)(()=>{(async()=>{let e=localStorage.getItem("token"),o=localStorage.getItem("businessId");if(!e||!o)return;let t=await fetch("https://wellnexai.com/api/business/getBusinessDetail",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.trim())},body:JSON.stringify({businessId:o})});if(t){let e=await t.json();console.log("dkdposf",e.data),a(e.data)}})()},[]),(0,t.jsxs)("header",{className:"flex h-16 items-center justify-between border-b border-gray-200 bg-white px-4 md:px-6",children:[(0,t.jsx)("div",{className:"relative w-full max-w-[450px] ml-12 md:ml-0"}),(0,t.jsxs)("div",{className:"flex items-center gap-2 md:gap-3",children:[(0,t.jsx)("div",{className:"hidden md:block text-right",children:(0,t.jsx)("div",{className:"text-sm font-medium",children:null==e?void 0:e.name})}),(0,t.jsx)("div",{className:"h-8 w-8 md:h-10 md:w-10 overflow-hidden rounded-full bg-gray-200",children:(0,t.jsx)("img",{src:(null==e?void 0:e.logo)?"https://wellnexai.com/uploads/business-logos/".concat(e.logo):"/avatar.png",alt:(null==e?void 0:e.name)||"Business Logo",className:"h-full w-full object-cover"})})]})]})}var u=o(4783);function x(e){let{children:a}=e,o=(0,s.useRouter)(),[i,l]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{var e;if(!(localStorage.getItem("token")||(null===(e=document.cookie.split("; ").find(e=>e.startsWith("token=")))||void 0===e?void 0:e.split("=")[1]))){console.log("No token found, redirecting to signin"),o.replace("/signin");return}(async()=>{try{console.log("Token verified")}catch(e){console.error("Token verification failed:",e),localStorage.clear(),sessionStorage.clear(),document.cookie.split(";").forEach(e=>{let[a]=e.split("=");document.cookie="".concat(a.trim(),"=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT; domain=").concat(window.location.hostname)}),["onboardingToken","token","authorization","adminDashboardLock","dashboardLock","adminToken","adminAuthorization","currentStep","inOnboarding","userRole","userData","sessionId","refreshToken"].forEach(e=>{document.cookie="".concat(e,"=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT; domain=").concat(window.location.hostname)}),window.caches&&caches.keys().then(e=>{e.forEach(e=>{caches.delete(e)})}),window.location.href="/signin"}})()},[o]),(0,t.jsxs)("div",{className:"flex h-screen bg-gray-50",children:[(0,t.jsx)("button",{onClick:()=>l(!i),className:"fixed top-4 left-4 z-[60] md:hidden bg-white p-2 rounded-md shadow-md",children:(0,t.jsx)(u.A,{className:"h-6 w-6"})}),(0,t.jsx)("div",{className:"\n        fixed md:static inset-y-0 left-0 z-50\n        transform transition-transform duration-200 ease-in-out\n        ".concat(i?"translate-x-0":"-translate-x-full md:translate-x-0","\n      "),children:(0,t.jsx)(h,{})}),(0,t.jsxs)("div",{className:"flex flex-1 flex-col overflow-hidden",children:[(0,t.jsx)(m,{}),(0,t.jsx)("main",{className:"flex-1 overflow-y-auto bg-gray-50 p-4 md:p-6",children:a})]}),i&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:()=>l(!1)})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[4212,95,8441,1684,7358],()=>a(4830)),_N_E=e.O()}]);