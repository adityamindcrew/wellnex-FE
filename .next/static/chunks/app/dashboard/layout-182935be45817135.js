(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1954],{2475:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});let l={src:"/_next/static/media/logo.16f37a8f.png",height:50,width:150,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAADCAMAAACZFr56AAAAFVBMVEUQEBAAAAAFBgUEBAQFBQUGBgYCAgI1vtbjAAAAB3RSTlMCClM3G0puwcAKVQAAAAlwSFlzAAALEwAACxMBAJqcGAAAACBJREFUeJwVyMERADAIwzA7ge4/Mlc9RUdFeEm2Kx34cQLDAC6f5ld0AAAAAElFTkSuQmCC",blurWidth:8,blurHeight:3}},4783:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});let l=(0,a(9946).A)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])},7340:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});let l=(0,a(9946).A)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]])},7846:(e,t,a)=>{Promise.resolve().then(a.bind(a,8345))},8345:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>x});var l=a(5155),s=a(2115),i=a(5695),o=a(6874),n=a.n(o),r=a(7340),c=a(6766),d=a(2475);function h(){let e=(0,i.useRouter)(),t=(0,s.useCallback)(async()=>{try{if(!(await fetch("https://dev.wellnexai.com/api/business/logout",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},credentials:"include"})).ok)throw Error("Logout failed");localStorage.clear(),sessionStorage.clear(),document.cookie.split(";").forEach(e=>{let[t]=e.split("=");document.cookie="".concat(t.trim(),"=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT")}),window.location.href="/signin"}catch(e){console.error("Logout error:",e),localStorage.clear(),sessionStorage.clear(),document.cookie.split(";").forEach(e=>{let[t]=e.split("=");document.cookie="".concat(t.trim(),"=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT")}),window.location.href="/signin"}},[e]);return(0,l.jsxs)("div",{className:"flex w-[250px] md:w-[193px] flex-col border-r border-gray-200 bg-white h-full",children:[(0,l.jsx)("div",{className:"flex h-16 items-center px-4",children:(0,l.jsx)(n(),{href:"/dashboard",className:"flex items-center",children:(0,l.jsx)(c.default,{src:d.A,alt:"WellnexAI Logo",width:150,height:200})})}),(0,l.jsx)("div",{className:"flex flex-col px-2 py-2",children:(0,l.jsxs)(n(),{href:"/dashboard",className:"flex items-center gap-2 rounded-md bg-black px-3 py-2 text-white hover:bg-gray-800",children:[(0,l.jsx)(r.A,{size:18}),(0,l.jsx)("span",{children:"Dashboard"})]})}),(0,l.jsx)("button",{onClick:t,className:"w-full text-left px-4 py-2 hover:bg-gray-100",children:"Logout"})]})}function u(){let[e,t]=(0,s.useState)(null);return(0,s.useEffect)(()=>{(async()=>{let e=localStorage.getItem("token"),a=localStorage.getItem("businessId");if(!e||!a)return;let l=await fetch("https://dev.wellnexai.com/api/business/getBusinessDetail",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.trim())},body:JSON.stringify({businessId:a})});l&&t((await l.json()).data)})()},[]),(0,l.jsxs)("header",{className:"flex h-16 items-center justify-between border-b border-gray-200 bg-white px-4 md:px-6",children:[(0,l.jsx)("div",{className:"relative w-full max-w-[450px] ml-12 md:ml-0"}),(0,l.jsxs)("div",{className:"flex items-center gap-2 md:gap-3",children:[(0,l.jsx)("div",{className:"hidden md:block text-right",children:(0,l.jsx)("div",{className:"text-sm font-medium",children:null==e?void 0:e.name})}),(0,l.jsx)("div",{className:"h-8 w-8 md:h-10 md:w-10 overflow-hidden rounded-full bg-gray-200",children:(0,l.jsx)("img",{src:(null==e?void 0:e.logo)?"https://dev.wellnexai.com/uploads/business-logos/".concat(e.logo):"/avatar.png",alt:(null==e?void 0:e.name)||"Business Logo",className:"h-full w-full object-cover"})})]})]})}var m=a(4783);function x(e){let{children:t}=e,a=(0,i.useRouter)(),[o,n]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{var e;if(!(localStorage.getItem("token")||(null===(e=document.cookie.split("; ").find(e=>e.startsWith("token=")))||void 0===e?void 0:e.split("=")[1]))){a.replace("/signin");return}},[a]),(0,l.jsxs)("div",{className:"flex h-screen bg-gray-50",children:[(0,l.jsx)("button",{onClick:()=>n(!o),className:"fixed top-4 left-4 z-[60] md:hidden bg-white p-2 rounded-md shadow-md",children:(0,l.jsx)(m.A,{className:"h-6 w-6"})}),(0,l.jsx)("div",{className:"\n        fixed md:static inset-y-0 left-0 z-50\n        transform transition-transform duration-200 ease-in-out\n        ".concat(o?"translate-x-0":"-translate-x-full md:translate-x-0","\n      "),children:(0,l.jsx)(h,{})}),(0,l.jsxs)("div",{className:"flex flex-1 flex-col overflow-hidden",children:[(0,l.jsx)(u,{}),(0,l.jsx)("main",{className:"flex-1 overflow-y-auto bg-gray-50 p-4 md:p-6",children:t})]}),o&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:()=>n(!1)})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[4212,95,8441,1684,7358],()=>t(7846)),_N_E=e.O()}]);