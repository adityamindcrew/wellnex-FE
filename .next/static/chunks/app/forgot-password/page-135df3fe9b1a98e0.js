(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2162],{1597:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var o=s(5155),a=s(2115),r=s(5695),n=s(6766),i=s(1865),l=s(2475);function c(){let e=(0,r.useRouter)(),[t,s]=(0,a.useState)(""),[c,d]=(0,a.useState)(!1),[h,u]=(0,a.useState)(null),[g,p]=(0,a.useState)(!1),[m,w]=(0,a.useState)(!1),y=async e=>{if(e.preventDefault(),console.log("Form submitted with email:",t),!t){u("Please enter your email address");return}d(!0),u(null),p(!1);try{console.log("Calling forgotPassword API...");let e=await i.d.forgotPassword(t);if(console.log("API Response:",e),e.status)p(!0),s("");else throw Error(e.message||"Failed to send reset password email")}catch(e){console.error("Error in forgot password:",e),u(e.message||"Failed to send reset password email")}finally{d(!1)}};return(0,o.jsx)("div",{className:"min-h-screen w-full bg-[#F5F5F5] flex justify-center items-center",children:(0,o.jsxs)("div",{className:"w-full max-w-[400px] bg-white shadow-lg rounded-2xl p-8",children:[(0,o.jsxs)("div",{className:"mb-8",children:[(0,o.jsx)("div",{className:"mb-4",children:(0,o.jsx)(n.default,{src:l.A,alt:"WellnexAI Logo",width:100,height:200})}),(0,o.jsx)("h1",{className:"text-3xl font-bold mb-2 text-center",children:"Forgot Password"}),(0,o.jsx)("p",{className:"text-gray-500 text-base mb-2 text-center",children:"Enter your email address and we'll send you a link to reset your password."})]}),h&&(0,o.jsx)("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-md text-sm",children:h}),g&&(0,o.jsx)("div",{className:"mb-4 p-3 bg-green-100 text-green-700 rounded-md text-sm",children:"Reset password link has been sent to your email."}),g&&m&&(0,o.jsx)("div",{className:"mb-4 p-3 bg-green-100 text-green-700 rounded-md text-sm",children:"Password has been reset successfully. Redirecting to login..."}),(0,o.jsxs)("form",{onSubmit:y,className:"space-y-4",children:[(0,o.jsx)("div",{children:(0,o.jsx)("input",{type:"email",value:t,onChange:e=>s(e.target.value),placeholder:"Enter your email",required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-200 bg-[#FAFAFA] text-base"})}),(0,o.jsx)("button",{type:"submit",disabled:c,className:"w-full py-2 px-4 bg-[rgba(152,124,241,0.5)] border border-[#000000] text-[#000000] font-sm rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-base shadow-sm",children:c?"Sending...":"Submit"})]}),(0,o.jsx)("button",{type:"button",onClick:()=>e.push("/signin"),className:"w-full py-2 px-4 text-gray-600 hover:text-gray-800 mt-4",children:"Back to Sign In"})]})})}function d(){return(0,o.jsx)(a.Suspense,{children:(0,o.jsx)(c,{})})}},1865:(e,t,s)=>{"use strict";s.d(t,{d:()=>n});var o=s(3464);let a="https://wellnexai.com/api";o.A.create({baseURL:a,headers:{"Content-Type":"application/json"}});let r=async e=>{if(!e.ok)throw Error((await e.json()).message||"Something went wrong");return e.json()},n={signup:async e=>r(await fetch("".concat(a,"/business/signup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})),sendVerificationEmail:async(e,t)=>r(await fetch("".concat(a,"/business/sendVerificationEmail"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({businessId:t})})),verifyEmailByLink:async(e,t)=>r(await fetch("".concat(a,"/business/verifyEmailByLink"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({verificationToken:t,_id:e})})),uploadLogo:async(e,t,s)=>{let o=new FormData;o.append("logo",e),o.append("businessId",s);try{let e=await fetch("https://wellnexai.com/api/business/uploadBusinessLogo",{method:"POST",headers:{Authorization:"Bearer ".concat(t)},body:o}),s=await e.json();if(!e.ok)throw Error(s.message||"Failed to upload logo");let a=s.logoUrl;return a&&!a.startsWith("https://wellnexai.com")&&(a="https://wellnexai.com".concat(a.startsWith("/")?"":"/").concat(a)),{...s,logoUrl:a}}catch(e){throw e}},setThemeColor:async(e,t,s)=>{try{let o=s?JSON.stringify({themeColor:e,businessId:s}):JSON.stringify({themeColor:e}),a=await fetch("https://wellnexai.com/api/business/setBusinessThemeColor",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:o}),r=await a.json();if(!a.ok)throw Error(r.message||"Failed to set theme color");return r}catch(e){throw e}},addBusinessKeywords:async(e,t,s)=>{try{let o=await fetch("https://wellnexai.com/api/business/addBusinessKeywords",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({keywords:e,businessId:s,replace:!0})}),a=await o.json();if(!o.ok)throw Error(a.message||"Failed to add keywords");return a}catch(e){throw e}},signin:async(e,t)=>{let s=localStorage.getItem("businessId"),o={email:e,password:t};s&&(o.businessId=s);let a=await fetch("https://wellnexai.com/api/business/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}),r=await a.json();if(!a.ok||!r.status)throw Error(r.message||"Invalid email or password");return r},setupChatbot:async(e,t,s)=>{let o=await fetch("".concat(a,"/business/add-business-questions"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)},body:JSON.stringify({businessId:e,questions:t})});if(!o.ok)throw Error((await o.json()).message||"Failed to setup chatbot");return o.json()},forgotPassword:async e=>{console.log("Making forgot password request for email:",e);try{let t=await fetch("".concat(a,"/business/forgotPassword"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}),s=await t.json();if(console.log("Forgot password API response:",s),!t.ok)throw Error(s.message||"Failed to send reset password email");return s}catch(e){throw console.error("Error in forgotPassword API:",e),e}},resetPassword:async(e,t)=>{let s=await fetch("".concat(a,"/business/resetPassword"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:e,token:t})});if(!s.ok)throw Error((await s.json()).message||"Failed to reset password");return s.json()},checkVerificationStatus:async(e,t)=>{try{let s=await fetch("".concat(a,"/business/verify-status"),{method:"POST",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({businessId:e})}),o=await s.json();if(!s.ok)throw Error(o.message||"Failed to check verification status");return o}catch(e){throw console.error("Error checking verification status:",e),e}}}},2475:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});let o={src:"/_next/static/media/logo.16f37a8f.png",height:50,width:150,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAADCAMAAACZFr56AAAAFVBMVEUQEBAAAAAFBgUEBAQGBgYFBQUCAgJg1VDIAAAAB3RSTlMCClM3ShtuDx4ixwAAAAlwSFlzAAALEwAACxMBAJqcGAAAACBJREFUeJwVyMERADAIwzA7ge4/Mlc9RVdFeEmmI134cQLLAC4e3IyrAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:3}},7193:(e,t,s)=>{Promise.resolve().then(s.bind(s,1597))}},e=>{var t=t=>e(e.s=t);e.O(0,[4212,3464,8441,1684,7358],()=>t(7193)),_N_E=e.O()}]);