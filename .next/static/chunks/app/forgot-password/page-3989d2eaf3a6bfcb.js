(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2162],{1597:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var a=s(5155),o=s(2115),r=s(5695),n=s(6766),i=s(1865),l=s(2475);function c(){let e=(0,r.useRouter)(),[t,s]=(0,o.useState)(""),[c,d]=(0,o.useState)(!1),[h,u]=(0,o.useState)(null),[p,m]=(0,o.useState)(!1),[g,w]=(0,o.useState)(!1),y=async e=>{if(e.preventDefault(),!t){u("Please enter your email address");return}d(!0),u(null),m(!1);try{let e=await i.d.forgotPassword(t);if(e.status)m(!0),s("");else throw Error(e.message||"Failed to send reset password email")}catch(e){console.error("Error in forgot password:",e),u(e.message||"Failed to send reset password email")}finally{d(!1)}};return(0,a.jsx)("div",{className:"min-h-screen w-full bg-[#F5F5F5] flex justify-center items-center",children:(0,a.jsxs)("div",{className:"w-full max-w-[400px] bg-white shadow-lg rounded-2xl p-8",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)(n.default,{src:l.A,alt:"WellnexAI Logo",width:100,height:200})}),(0,a.jsx)("h1",{className:"text-3xl font-bold mb-2 text-center",children:"Forgot Password"}),(0,a.jsx)("p",{className:"text-gray-500 text-base mb-2 text-center",children:"Enter your email address and we'll send you a link to reset your password."})]}),h&&(0,a.jsx)("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-md text-sm",children:h}),p&&(0,a.jsx)("div",{className:"mb-4 p-3 bg-green-100 text-green-700 rounded-md text-sm",children:"Reset password link has been sent to your email."}),p&&g&&(0,a.jsx)("div",{className:"mb-4 p-3 bg-green-100 text-green-700 rounded-md text-sm",children:"Password has been reset successfully. Redirecting to login..."}),(0,a.jsxs)("form",{onSubmit:y,className:"space-y-4",children:[(0,a.jsx)("div",{children:(0,a.jsx)("input",{type:"email",value:t,onChange:e=>s(e.target.value),placeholder:"Enter your email",required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-200 bg-[#FAFAFA] text-base"})}),(0,a.jsx)("button",{type:"submit",disabled:c,className:"w-full py-2 px-4 bg-[rgba(152,124,241,0.5)] border border-[#000000] text-[#000000] font-sm rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-base shadow-sm",children:c?"Sending...":"Submit"})]}),(0,a.jsx)("button",{type:"button",onClick:()=>e.push("/signin"),className:"w-full py-2 px-4 text-gray-600 hover:text-gray-800 mt-4",children:"Back to Sign In"})]})})}function d(){return(0,a.jsx)(o.Suspense,{children:(0,a.jsx)(c,{})})}},1865:(e,t,s)=>{"use strict";s.d(t,{d:()=>n});var a=s(3464);let o="https://dev.wellnexai.com/api";a.A.create({baseURL:o,headers:{"Content-Type":"application/json"}});let r=async e=>{if(!e.ok)throw Error((await e.json()).message||"Something went wrong");return e.json()},n={signup:async e=>r(await fetch("".concat("https://dev.wellnexai.com/api","/business/signup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})),sendVerificationEmail:async(e,t)=>r(await fetch("".concat(o,"/business/sendVerificationEmail"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({businessId:t})})),verifyEmailByLink:async(e,t)=>r(await fetch("".concat(o,"/business/verifyEmailByLink"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({verificationToken:t,_id:e})})),uploadLogo:async(e,t,s)=>{let a=new FormData;a.append("logo",e),a.append("businessId",s);try{let e=await fetch("".concat("https://dev.wellnexai.com/api","/business/uploadBusinessLogo"),{method:"POST",headers:{Authorization:"Bearer ".concat(t)},body:a});if(413===e.status)throw Error("File size too large. Please use a smaller image (max 5MB).");let s=await e.json();if(!e.ok)throw Error(s.message||"Failed to upload logo");console.log("https://dev.wellnexai.com","process.env.NEXT_PUBLIC_INSTANCE_URL");let o=s.logoUrl;return o&&!o.startsWith("https://dev.wellnexai.com")&&(o="".concat("https://dev.wellnexai.com").concat(o.startsWith("/")?"":"/").concat(o)),{...s,logoUrl:o}}catch(e){if(e instanceof TypeError&&e.message.includes("fetch"))throw Error("Network error. Please check your connection and try again.");throw e}},setThemeColor:async(e,t,s)=>{try{let a=s?JSON.stringify({themeColor:e,businessId:s}):JSON.stringify({themeColor:e}),o=await fetch("".concat("https://dev.wellnexai.com/api","/business/setBusinessThemeColor"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:a}),r=await o.json();if(!o.ok)throw Error(r.message||"Failed to set theme color");return r}catch(e){throw e}},addBusinessKeywords:async(e,t,s)=>{try{let a=await fetch("".concat("https://dev.wellnexai.com/api","/business/addBusinessKeywords"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({keywords:e,businessId:s,replace:!0})}),o=await a.json();if(!a.ok)throw Error(o.message||"Failed to add keywords");return o}catch(e){throw e}},signin:async(e,t)=>{let s=localStorage.getItem("businessId"),a={email:e,password:t};s&&(a.businessId=s);let o=await fetch("".concat("https://dev.wellnexai.com/api","/business/signin"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),r=await o.json();if(!o.ok||!r.status)throw Error(r.message||"Invalid email or password");return r},setupChatbot:async(e,t,s)=>{let a=await fetch("".concat(o,"/business/add-business-questions"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)},body:JSON.stringify({businessId:e,questions:t})});if(!a.ok)throw Error((await a.json()).message||"Failed to setup chatbot");return a.json()},forgotPassword:async e=>{try{let t=await fetch("".concat(o,"/business/forgotPassword"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}),s=await t.json();if(!t.ok)throw Error(s.message||"Failed to send reset password email");return s}catch(e){throw console.error("Error in forgotPassword API:",e),e}},resetPassword:async(e,t)=>{let s=await fetch("".concat(o,"/business/resetPassword"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:e,token:t})});if(!s.ok)throw Error((await s.json()).message||"Failed to reset password");return s.json()},checkVerificationStatus:async(e,t)=>{try{let s=await fetch("".concat(o,"/business/verify-status"),{method:"POST",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({businessId:e})}),a=await s.json();if(!s.ok)throw Error(a.message||"Failed to check verification status");return a}catch(e){throw console.error("Error checking verification status:",e),e}}}},2475:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a={src:"/_next/static/media/logo.16f37a8f.png",height:50,width:150,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAADCAMAAACZFr56AAAAFVBMVEUQEBAAAAAFBgUEBAQFBQUGBgYCAgI1vtbjAAAAB3RSTlMCClM3G0puwcAKVQAAAAlwSFlzAAALEwAACxMBAJqcGAAAACBJREFUeJwVyMERADAIwzA7ge4/Mlc9RUdFeEm2Kx34cQLDAC6f5ld0AAAAAElFTkSuQmCC",blurWidth:8,blurHeight:3}},7684:(e,t,s)=>{Promise.resolve().then(s.bind(s,1597))}},e=>{var t=t=>e(e.s=t);e.O(0,[4212,3464,8441,1684,7358],()=>t(7684)),_N_E=e.O()}]);