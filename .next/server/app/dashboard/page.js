(()=>{var e={};e.id=105,e.ids=[105],e.modules={2642:(e,t,s)=>{Promise.resolve().then(s.bind(s,23222))},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3589:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},9005:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11860:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},12412:e=>{"use strict";e.exports=require("assert")},12941:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])},13964:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},15487:(e,t,s)=>{"use strict";s.d(t,{default:()=>a});let a=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/muskan/Documents/wellnex-signup/components/dashboard/business-services.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/muskan/Documents/wellnex-signup/components/dashboard/business-services.tsx","default")},17242:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a={src:"/_next/static/media/logo.16f37a8f.png",height:50,width:150,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAADCAMAAACZFr56AAAAFVBMVEUQEBAAAAAFBgUEBAQGBgYFBQUCAgJg1VDIAAAAB3RSTlMCClM3ShtuDx4ixwAAAAlwSFlzAAALEwAACxMBAJqcGAAAACBJREFUeJwVyMERADAIwzA7ge4/Mlc9RVdFeEmmI134cQLLAC4e3IyrAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:3}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19125:(e,t,s)=>{"use strict";s.d(t,{default:()=>a});let a=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/muskan/Documents/wellnex-signup/components/dashboard/platform-subscription.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/muskan/Documents/wellnex-signup/components/dashboard/platform-subscription.tsx","default")},21820:e=>{"use strict";e.exports=require("os")},23222:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>f});var a=s(60687),r=s(43210),i=s(16189),n=s(85814),l=s.n(n),o=s(32192),d=s(30474),c=s(17242);function u(){let e=(0,i.useRouter)(),t=(0,r.useCallback)(async()=>{let e=localStorage.getItem("token");console.log("Token:",e);try{await fetch("https://wellnexai.com/api/business/logout",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}})}catch(e){}localStorage.clear();let t=document.cookie.split(";");for(let e=0;e<t.length;e++){let s=t[e],a=s.indexOf("="),r=a>-1?s.substr(0,a).trim():s.trim();document.cookie=r+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/"}sessionStorage.clear(),window.location.href="/signin"},[e]);return(0,a.jsxs)("div",{className:"flex w-[250px] md:w-[193px] flex-col border-r border-gray-200 bg-white h-full",children:[(0,a.jsx)("div",{className:"flex h-16 items-center px-4",children:(0,a.jsx)(l(),{href:"/dashboard",className:"flex items-center",children:(0,a.jsx)(d.default,{src:c.A,alt:"WellnexAI Logo",width:150,height:200})})}),(0,a.jsx)("div",{className:"flex flex-col px-2 py-2",children:(0,a.jsxs)(l(),{href:"/dashboard",className:"flex items-center gap-2 rounded-md bg-black px-3 py-2 text-white hover:bg-gray-800",children:[(0,a.jsx)(o.A,{size:18}),(0,a.jsx)("span",{children:"Dashboard"})]})}),(0,a.jsx)("button",{onClick:t,className:"w-full text-left px-4 py-2 hover:bg-gray-100",children:"Logout"})]})}function x(){let[e,t]=(0,r.useState)(null);return(0,a.jsxs)("header",{className:"flex h-16 items-center justify-between border-b border-gray-200 bg-white px-4 md:px-6",children:[(0,a.jsx)("div",{className:"relative w-full max-w-[450px] ml-12 md:ml-0"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 md:gap-3",children:[(0,a.jsx)("div",{className:"hidden md:block text-right",children:(0,a.jsx)("div",{className:"text-sm font-medium",children:e?.name})}),(0,a.jsx)("div",{className:"h-8 w-8 md:h-10 md:w-10 overflow-hidden rounded-full bg-gray-200",children:(0,a.jsx)("img",{src:e?.logo?`https://wellnexai.com/uploads/business-logos/${e.logo}`:"/avatar.png",alt:e?.name||"Business Logo",className:"h-full w-full object-cover"})})]})]})}var m=s(12941);function f({children:e}){(0,i.useRouter)();let[t,s]=(0,r.useState)(!1);return(0,a.jsxs)("div",{className:"flex h-screen bg-gray-50",children:[(0,a.jsx)("button",{onClick:()=>s(!t),className:"fixed top-4 left-4 z-[60] md:hidden bg-white p-2 rounded-md shadow-md",children:(0,a.jsx)(m.A,{className:"h-6 w-6"})}),(0,a.jsx)("div",{className:`
        fixed md:static inset-y-0 left-0 z-50
        transform transition-transform duration-200 ease-in-out
        ${t?"translate-x-0":"-translate-x-full md:translate-x-0"}
      `,children:(0,a.jsx)(u,{})}),(0,a.jsxs)("div",{className:"flex flex-1 flex-col overflow-hidden",children:[(0,a.jsx)(x,{}),(0,a.jsx)("main",{className:"flex-1 overflow-y-auto bg-gray-50 p-4 md:p-6",children:e})]}),t&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:()=>s(!1)})]})}},23937:(e,t,s)=>{"use strict";s.d(t,{default:()=>c});var a=s(60687),r=s(43210),i=s(96474),n=s(11860),l=s(13964),o=s(57175),d=s(88233);function c(){let[e,t]=(0,r.useState)([]),[s,c]=(0,r.useState)(!0),[u,x]=(0,r.useState)(null),[m,f]=(0,r.useState)(!1),[h,p]=(0,r.useState)(!1),[g,b]=(0,r.useState)(null),[y,j]=(0,r.useState)(null),[w,v]=(0,r.useState)(""),[N,k]=(0,r.useState)(!1),[S,A]=(0,r.useState)(""),[C,E]=(0,r.useState)(!1),[I,z]=(0,r.useState)(!1),P=async()=>{try{let e=localStorage.getItem("token"),s=localStorage.getItem("businessId"),a=await fetch("https://wellnexai.com/api/business/getServicesList",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({businessId:s})});if(!a.ok)throw Error("Failed to fetch services");let r=await a.json();if(!r.status||200!==r.code)throw Error(r.message||"Failed to fetch services");let i=r.data;if(!Array.isArray(i))throw Error("Invalid response format: expected an array of services");let n=i.map(e=>({id:e._id,name:e.name,createdAt:new Date(e.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),active:!0,checked:!1}));t(n)}catch(e){x(e instanceof Error?e.message:"An error occurred")}finally{c(!1)}},T=e=>{b(e),p(!0)},F=async()=>{if(g)try{f(!0);let e=localStorage.getItem("token"),t=localStorage.getItem("businessId");if(!e)throw Error("Authentication token not found");let s=await fetch("https://wellnexai.com/api/business/deleteService",{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({serviceId:g,businessId:t})}),a=await s.json();if(!a.status||200!==a.code)throw Error(a.message||"Failed to delete service");await P(),p(!1),b(null)}catch(e){console.error("Delete error:",e),x(e instanceof Error?e.message:"Failed to delete service")}finally{f(!1)}},D=e=>{j(e.id),v(e.name)},O=async()=>{if(y&&w.trim())try{k(!0);let e=localStorage.getItem("token"),t=localStorage.getItem("businessId");if(!e)throw Error("Authentication token not found");let s=await fetch("https://wellnexai.com/api/business/updateOneService",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.trim()}`},body:JSON.stringify({businessId:t,service:{_id:y,name:w.trim()}})}),a=await s.json();if(!a.status||200!==a.code)throw Error(a.message||"Failed to update service");await P(),j(null),v("")}catch(e){console.error("Update error:",e),x(e instanceof Error?e.message:"Failed to update service")}finally{k(!1)}},$=()=>{j(null),v("")},B=async()=>{if(S.trim())try{E(!0),x(null);let e=localStorage.getItem("token"),t=localStorage.getItem("businessId");if(!e||!t)throw Error("Authentication token or business ID not found");let s=await fetch("https://wellnexai.com/api/business/addBusinessServices",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({businessId:t,services:[{name:S.trim()}]})}),a=await s.json();if(!a.status||200!==a.code)throw Error(a.message||"Failed to add service");await P(),A(""),z(!1)}catch(e){console.error("Add service error:",e),x(e instanceof Error?e.message:"Failed to add service")}finally{E(!1)}};return s?(0,a.jsx)("div",{className:"rounded-lg border border-gray-200 bg-white p-8",children:(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})})}):u?(0,a.jsx)("div",{className:"rounded-lg border border-gray-200 bg-white p-8",children:(0,a.jsxs)("div",{className:"text-center text-red-600",children:["Error: ",u]})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between border-b border-gray-200 px-4 sm:px-6 py-4 gap-4",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold",children:"Business Services"}),(0,a.jsxs)("div",{className:"rounded-full bg-black px-3 py-1 text-xs text-white w-fit",children:[e.length," Services"]})]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:I?(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("div",{className:"relative flex-1 min-w-[200px]",children:[(0,a.jsx)("input",{type:"text",value:S,onChange:e=>A(e.target.value),placeholder:"Enter service name",className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#987CF1] pr-8",disabled:C,onKeyDown:e=>{"Enter"===e.key&&!C&&S.trim()&&B()}}),(0,a.jsx)("button",{onClick:()=>{z(!1),A("")},className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:(0,a.jsx)(n.A,{size:14})})]}),(0,a.jsx)("button",{onClick:B,disabled:C||!S.trim(),className:"flex items-center gap-1 rounded-lg bg-black px-3 py-1.5 text-sm text-white disabled:opacity-50",children:C?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,a.jsx)("span",{children:"Adding..."})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.A,{size:16}),(0,a.jsx)("span",{children:"Add"})]})})]}):(0,a.jsxs)("button",{onClick:()=>z(!0),className:"flex items-center gap-1 rounded-lg bg-black px-3 py-1.5 text-sm text-white",children:[(0,a.jsx)(i.A,{size:16}),(0,a.jsx)("span",{children:"Add Service"})]})})]}),(0,a.jsxs)("div",{className:"px-4 sm:px-6 py-2",children:[(0,a.jsxs)("div",{className:"hidden sm:grid grid-cols-[1fr_auto_auto_auto] items-center border-b border-gray-100 py-3 text-sm text-gray-500",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-6"}),(0,a.jsx)("div",{className:"flex items-center gap-1 font-medium",children:"Services"})]}),(0,a.jsx)("div",{className:"w-32 font-medium text-right sm:text-left",children:"Last Edited"}),(0,a.jsx)("div",{className:"w-20 font-medium text-right sm:text-left",children:"Status"}),(0,a.jsx)("div",{className:"w-24"})]}),e.map(e=>(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_auto_auto_auto] items-center border-b border-gray-100 py-3 text-sm gap-2 sm:gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"flex h-6 w-6 items-center justify-center"}),y===e.id?(0,a.jsxs)("div",{className:"flex-1 flex items-center gap-2",children:[(0,a.jsx)("input",{type:"text",value:w,onChange:e=>v(e.target.value),className:"px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-[#987CF1]",style:{width:`${8*w.length}px`,minWidth:"100px"},disabled:N}),(0,a.jsx)("button",{onClick:O,disabled:N,className:"p-1 text-green-600 hover:bg-green-50 rounded-full",children:(0,a.jsx)(l.A,{size:18})}),(0,a.jsx)("button",{onClick:$,disabled:N,className:"p-1 text-red-600 hover:bg-red-50 rounded-full",children:(0,a.jsx)(n.A,{size:18})})]}):(0,a.jsx)("div",{className:"flex-1",children:e.name})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between sm:justify-start",children:[(0,a.jsx)("span",{className:"sm:hidden text-gray-500",children:"Last Edited:"}),(0,a.jsx)("div",{className:"w-32 text-gray-500",children:e.createdAt})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between sm:justify-start",children:[(0,a.jsx)("span",{className:"sm:hidden text-gray-500",children:"Status:"}),(0,a.jsx)("div",{className:"w-20",children:e.active&&(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("div",{className:"h-1.5 w-1.5 rounded-full bg-green-500"}),(0,a.jsx)("span",{className:"text-green-600",children:"Active"})]})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,a.jsx)("button",{onClick:()=>D(e),disabled:N,className:"rounded-full p-1 hover:bg-gray-100",children:(0,a.jsx)(o.A,{size:18,className:"text-gray-500"})}),(0,a.jsx)("button",{onClick:()=>T(e.id),disabled:m||N,className:"rounded-full p-1 hover:bg-gray-100 disabled:opacity-50",children:(0,a.jsx)(d.A,{size:18,className:"text-gray-500"})})]})]},e.id))]})]}),h&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-sm w-full mx-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Delete Service"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete this service? This action cannot be undone."}),(0,a.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,a.jsx)("button",{onClick:()=>{p(!1),b(null)},className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",disabled:m,children:"Cancel"}),(0,a.jsx)("button",{onClick:F,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",disabled:m,children:m?"Deleting...":"Delete"})]})]})})]})}},25399:(e,t,s)=>{"use strict";s.d(t,{default:()=>y});var a=s(60687),r=s(76180),i=s.n(r),n=s(43210),l=s(64129),o=s(30474),d=s(9005),c=s(3589),u=s(78272),x=s(11860),m=s(68988),f=s(39010),h=s(46299),p=s(16189);let g=(0,f.c)("pk_test_51LuNV2E2Y7YLkjxVuaZ1F13llOwUjsRcrodK7nbLAxmqxcnKqjnWxlc83V53bnFdnWOSW07fvBQjEmKXp2ChPXNo004z40bvvz");function b({onPaymentMethodCreated:e}){let t=(0,h.t2)(),s=(0,h.HH)(),[r,i]=(0,n.useState)(""),[l,o]=(0,n.useState)(null),[d,c]=(0,n.useState)(!1),[u,x]=(0,n.useState)(""),m=async a=>{a.preventDefault(),o(null),c(!0);try{if(!t||!s)throw Error("Stripe not loaded");let a=s.getElement(h._D);if(!a)throw Error("Card element not found");let{error:i,paymentMethod:n}=await t.createPaymentMethod({type:"card",card:a,billing_details:{name:r}});if(i)throw Error(i.message||"Payment error");if(!n?.id)throw Error("Failed to create payment method");e(n.id)}catch(e){o(e instanceof Error?e.message:"Failed to create payment method")}finally{c(!1)}};return(0,a.jsxs)("form",{onSubmit:m,className:"bg-white rounded-2xl px-8 py-6 w-full max-w-[600px] flex flex-col items-center",children:[(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsx)("div",{className:"mb-1 font-semibold text-[#181D27] text-lg",children:"Payment"}),(0,a.jsx)("div",{className:"mb-4 text-sm text-[#535862]",children:"Card details."}),(0,a.jsxs)("div",{className:"flex w-full gap-6 mb-4",children:[(0,a.jsxs)("div",{className:"flex-[6]",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-[#414651] mb-1",children:"Name on card"}),(0,a.jsx)("input",{className:"block w-full rounded-md border border-gray-300 px-4 py-3 text-base focus:border-black focus:ring-0",value:r,onChange:e=>i(e.target.value),required:!0})]}),(0,a.jsxs)("div",{className:"flex-[4]",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-[#414651] mb-1",children:"Expiry"}),(0,a.jsx)(h.qs,{className:"block w-full rounded-md border border-gray-300 px-4 py-3 text-base focus:border-black focus:ring-0",options:{style:{base:{fontSize:"16px",color:"#424770",lineHeight:"1.5","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}}}})]})]}),(0,a.jsxs)("div",{className:"flex w-full gap-6 mb-4",children:[(0,a.jsxs)("div",{className:"flex-[6]",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-[#414651] mb-1",children:"Card number"}),(0,a.jsx)(h._D,{className:"block w-full rounded-md border border-gray-300 px-4 py-3 text-base focus:border-black focus:ring-0",options:{style:{base:{fontSize:"16px",color:"#424770",lineHeight:"2.2","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}}}})]}),(0,a.jsxs)("div",{className:"flex-[4]",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-[#414651] mb-1",children:"CVV"}),(0,a.jsx)(h.JG,{className:"block w-full rounded-md border border-gray-300 px-4 py-3 text-base focus:border-black focus:ring-0",options:{style:{base:{fontSize:"16px",color:"#424770",lineHeight:"2.2","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}}}})]})]})]}),l&&(0,a.jsx)("div",{className:"text-red-500 mt-3 text-base w-full text-center",children:l}),(0,a.jsx)("div",{className:"flex w-full mt-6 gap-3",children:(0,a.jsx)("button",{type:"submit",className:"flex-1 py-2.5 rounded-md bg-black text-white font-semibold text-base",disabled:d,children:d?"Processing...":`Pay ${u}`})})]})}function y(){(0,p.useRouter)();let[e,t]=(0,n.useState)("#987CF1"),[s,r]=(0,n.useState)(!1),[f,y]=(0,n.useState)(null),[j,w]=(0,n.useState)(null),[v,N]=(0,n.useState)(!1),[k,S]=(0,n.useState)(!1),[A,C]=(0,n.useState)(null),[E,I]=(0,n.useState)(""),[z,P]=(0,n.useState)(""),[T,F]=(0,n.useState)(null),[D,O]=(0,n.useState)(null),[$,B]=(0,n.useState)(null),[M,q]=(0,n.useState)(null),[_,L]=(0,n.useState)(null),[U,J]=(0,n.useState)(!1),[R,K]=(0,n.useState)("#987CF1"),V=(0,n.useRef)(null),[G,Q]=(0,n.useState)(!1),[W,H]=(0,n.useState)(0),[Y,X]=(0,n.useState)(0),[Z,ee]=(0,n.useState)(0),et=(0,n.useRef)(null),es=(0,n.useRef)(null),[ea,er]=(0,n.useState)({x:0,y:0}),[ei,en]=(0,n.useState)(0),[el,eo]=(0,n.useState)(null),[ed,ec]=(0,n.useState)(!0),[eu,ex]=(0,n.useState)(!1),[em,ef]=(0,n.useState)(!1),[eh,ep]=(0,n.useState)(""),eg=async()=>{ec(!0);try{let e=localStorage.getItem("token"),t=localStorage.getItem("businessId");if(!e||!t){ec(!1);return}let s=await fetch("https://wellnexai.com/api/subscription/status?businessId="+t,{method:"GET",headers:{Authorization:`Bearer ${e.replace(/['"]/g,"")}`}});if(!s.ok)throw Error("Failed to fetch subscription status");let a=await s.json();eo(a||null)}catch(e){eo(null)}finally{ec(!1)}},eb=async e=>{let t=e.target.files?.[0];if(y(null),!t)return;if(!t.type.includes("png")){y("Please upload a PNG file only");return}let s=new FileReader;s.onload=e=>{let s=e.target?.result;q(s),localStorage.setItem("logoPreview",s),L(t),J(!0)},s.readAsDataURL(t)},ey=async()=>{let t=null!==_,s=e!==R;if(!t&&!s){F("No changes to save"),setTimeout(()=>F(null),3e3);return}try{r(!0),y(null);let a=localStorage.getItem("token"),i=localStorage.getItem("businessId");if(!a||!i)throw Error("Authentication token or business ID not found");let n=!1;if(t&&_)try{let e=new FormData;if(e.append("logo",_),e.append("businessId",i),!(await fetch("https://wellnexai.com/api/business/uploadBusinessLogo",{method:"POST",headers:{Authorization:`Bearer ${a}`},body:e})).ok)throw Error("Failed to upload logo");let t=localStorage.getItem("logoPreview");t&&(B(t),localStorage.setItem("businessLogo",t)),n=!0,F("Logo updated successfully")}catch(e){throw console.error("Logo upload error:",e),Error("Failed to upload logo")}if(s)try{await l.d.setThemeColor(e,a,i),localStorage.setItem("themeColor",e),K(e),n=!0,F("Theme color updated successfully")}catch(e){throw console.error("Color update error:",e),Error("Failed to update theme color")}n&&(J(!1),L(null),Q(!1)),setTimeout(()=>F(null),3e3)}catch(e){y(e instanceof Error?e.message:"Failed to save changes")}finally{r(!1)}},ej=e=>{let s=e.target.value.startsWith("#")?e.target.value:`#${e.target.value}`;(s.match(/^#([0-9A-F]{3}){1,2}$/i)||"#"===s)&&(t(s),y(null),J(!0))},ew=(e,s)=>{let a=Math.max(0,Math.min(255,Number.parseInt(s)||0));"r"===e&&H(a),"g"===e&&X(a),"b"===e&&ee(a),t(`#${W.toString(16).padStart(2,"0")}${Y.toString(16).padStart(2,"0")}${Z.toString(16).padStart(2,"0")}`),y(null),J(!0)},ev=(e,s,a)=>{let r=eN(360*a,100*e,(1-s)*50);H(r.r),X(r.g),ee(r.b),t(`#${r.r.toString(16).padStart(2,"0")}${r.g.toString(16).padStart(2,"0")}${r.b.toString(16).padStart(2,"0")}`)},eN=(e,t,s)=>{let a,r,i;if(e/=360,s/=100,0==(t/=100))a=r=i=s;else{let n=(e,t,s)=>(s<0&&(s+=1),s>1&&(s-=1),s<1/6)?e+(t-e)*6*s:s<.5?t:s<2/3?e+(t-e)*(2/3-s)*6:e,l=s<.5?s*(1+t):s+t-s*t,o=2*s-l;a=n(o,l,e+1/3),r=n(o,l,e),i=n(o,l,e-1/3)}return{r:Math.round(255*a),g:Math.round(255*r),b:Math.round(255*i)}},ek=async()=>{ef(!0)},eS=async e=>{try{let t=await fetch("https://wellnexai.com/api/subscription/renew-after-special-offer",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({paymentMethodId:e})});if(!t.ok)throw Error("Failed to cancel subscription");await t.json(),ef(!1);let s=localStorage.getItem("token"),a=localStorage.getItem("businessId");if(s&&a){let e=await fetch("https://wellnexai.com/api/subscription/status?businessId="+a,{method:"GET",headers:{Authorization:`Bearer ${s}`}});if(e.ok){let t=await e.json();eo(t||null)}}}catch(e){w(e.message),O(null)}},eA=async()=>{try{let e=await fetch("https://wellnexai.com/api/subscription/check-special-offer",{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw Error("Failed to check special offer");let t=await e.json();t.hasSpecialOffer&&(C(t.specialOfferPrice),I(t.message),P(t.currentPeriodEnd),ep(t.expiryDate||""),N(!0))}catch(e){console.error("Error checking special offer:",e),w("Failed to check special offer")}},eC=async e=>{try{let t=await fetch("https://wellnexai.com/api/subscription/apply-special-offer",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({paymentMethodId:e})}),s=await t.json();if(!t.ok)throw Error(s.message||"Failed to create subscription");ex(!1),N(!1),O("Your subscription has been renewed successfully!"),setTimeout(()=>O(null),3e3),eg()}catch(e){console.error("Subscription error:",e),w(e.message||"An error occurred while processing your subscription?. Please try again."),ex(!1),O(null)}},eE=async()=>{try{let e=await fetch("https://wellnexai.com/api/subscription/cancel",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw Error("Failed to cancel subscription");let t=await e.json();N(!1),O(t.message||"Your subscription has been cancelled"),eg()}catch(e){y(e.message)}};return(0,a.jsxs)("div",{className:"jsx-209409fde6660e8f",children:[(0,a.jsx)("h2",{className:"jsx-209409fde6660e8f mb-4 text-xl font-semibold",children:"Platform Subscription"}),(0,a.jsxs)("div",{className:"jsx-209409fde6660e8f flex flex-col gap-6 lg:flex-row lg:items-start lg:gap-8",children:[(0,a.jsx)("div",{className:"jsx-209409fde6660e8f w-full max-w-lg mx-auto lg:mx-0 lg:max-w-md rounded-lg border border-gray-200 bg-white p-4 sm:p-6 lg:p-4",children:(0,a.jsxs)("div",{className:"jsx-209409fde6660e8f space-y-4",children:[ed?(0,a.jsx)("div",{className:"jsx-209409fde6660e8f text-center text-gray-500 py-4",children:"Loading subscription..."}):el?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"jsx-209409fde6660e8f flex justify-between",children:[(0,a.jsx)("div",{className:"jsx-209409fde6660e8f text-sm font-medium text-gray-500",children:"Subscription Status"}),(0,a.jsx)("div",{className:"jsx-209409fde6660e8f text-sm font-medium",children:el?.status?el?.status==="active"&&el?.cancelAtPeriodEnd?"Active (Cancel at period end)":el?.status[0].toUpperCase()+el?.status.slice(1):"N/A"})]}),(0,a.jsxs)("div",{className:"jsx-209409fde6660e8f flex justify-between",children:[(0,a.jsx)("div",{className:"jsx-209409fde6660e8f text-sm font-medium text-gray-500",children:"Start Date"}),(0,a.jsx)("div",{className:"jsx-209409fde6660e8f text-sm",children:el?.currentPeriodStart?el?.currentPeriodStart.slice(0,10):"N/A"})]}),(0,a.jsxs)("div",{className:"jsx-209409fde6660e8f flex justify-between",children:[(0,a.jsx)("div",{className:"jsx-209409fde6660e8f text-sm font-medium text-gray-500",children:el?.cancelAtPeriodEnd?"End Date":"Next Renewal Date"}),(0,a.jsx)("div",{className:"jsx-209409fde6660e8f text-sm",children:el?.currentPeriodEnd?el?.currentPeriodEnd.slice(0,10):"N/A"})]}),(0,a.jsxs)("div",{className:"jsx-209409fde6660e8f flex justify-between",children:[(0,a.jsx)("div",{className:"jsx-209409fde6660e8f text-sm font-medium text-gray-500",children:"Email"}),(0,a.jsx)("div",{className:"jsx-209409fde6660e8f text-sm",children:el?.email||"N/A"})]})]}):(0,a.jsx)("div",{className:"jsx-209409fde6660e8f text-center text-red-500 py-4",children:"No subscription data found."}),j&&(0,a.jsx)("div",{className:"jsx-209409fde6660e8f text-sm text-red-600 text-center bg-red-50 p-2 rounded-md",children:j}),D&&(0,a.jsx)("div",{className:"jsx-209409fde6660e8f text-sm text-green-600 text-center bg-green-50 p-2 rounded-md",children:D}),(0,a.jsxs)("div",{className:"jsx-209409fde6660e8f flex gap-2 pt-2",children:[el?.status==="active"&&!el?.cancelAtPeriodEnd&&(0,a.jsx)("button",{onClick:eA,className:"jsx-209409fde6660e8f rounded-md border border-gray-300 bg-white px-4 py-2 text-sm",children:"Cancel Subscription"}),el?.status==="canceled"&&(0,a.jsx)("button",{onClick:ek,className:"jsx-209409fde6660e8f rounded-md border border-gray-300 bg-white px-4 py-2 text-sm",children:"Renew Subscription"})]})]})}),(0,a.jsxs)("div",{className:"jsx-209409fde6660e8f w-full max-w-lg mx-auto lg:mx-0 lg:max-w-md rounded-lg border border-gray-200 bg-white p-4 sm:p-6 lg:p-4",children:[(0,a.jsxs)("div",{className:"jsx-209409fde6660e8f flex flex-col sm:flex-row items-center gap-4",children:[(0,a.jsxs)("div",{onClick:()=>V.current?.click(),className:"jsx-209409fde6660e8f relative h-12 w-12 rounded-full bg-gray-200 cursor-pointer overflow-hidden ",children:[M||$?(0,a.jsx)(o.default,{src:M||$||"",alt:"Business logo",fill:!0,className:"object-cover",unoptimized:!0,onError:e=>{console.error("Error loading logo:",e),y("Failed to load logo"),B(null),localStorage.removeItem("businessLogo")}}):(0,a.jsx)("div",{className:"jsx-209409fde6660e8f flex h-full w-full items-center justify-center",children:(0,a.jsx)(d.A,{className:"h-6 w-6 text-gray-400"})}),(0,a.jsx)("input",{type:"file",ref:V,onChange:eb,accept:".png",className:"jsx-209409fde6660e8f hidden"})]}),(0,a.jsxs)("div",{className:"jsx-209409fde6660e8f",children:[(0,a.jsx)("div",{className:"jsx-209409fde6660e8f text-sm font-medium",children:"Change Logo (.png)"}),s&&(0,a.jsx)("div",{className:"jsx-209409fde6660e8f text-xs text-gray-500",children:"Uploading..."}),M&&!s&&(0,a.jsx)("div",{className:"jsx-209409fde6660e8f text-xs text-gray-500",children:"Preview"})]})]}),(0,a.jsx)("div",{className:"jsx-209409fde6660e8f flex flex-col sm:flex-row items-center gap-4",children:(0,a.jsxs)("div",{className:"jsx-209409fde6660e8f flex flex-col gap-2 w-full",children:[(0,a.jsxs)("div",{className:"jsx-209409fde6660e8f flex items-center gap-2 mt-6",children:[(0,a.jsx)("div",{style:{backgroundColor:e||"#ffffff"},className:"jsx-209409fde6660e8f h-10 w-10 shrink-0 rounded-md border"}),(0,a.jsx)(m.p,{type:"text",value:e,onChange:ej,className:"flex-1",placeholder:"#000000"}),(0,a.jsx)("button",{type:"button",onClick:()=>Q(!G),className:"jsx-209409fde6660e8f h-10 w-10 shrink-0 rounded-md border flex items-center justify-center",children:G?(0,a.jsx)(c.A,{className:"h-4 w-4"}):(0,a.jsx)(u.A,{className:"h-4 w-4"})})]}),G&&(0,a.jsxs)("div",{className:"jsx-209409fde6660e8f relative mt-2 rounded-md border p-4",children:[(0,a.jsx)("div",{ref:et,style:{background:`linear-gradient(to bottom, rgba(255,255,255,1) 0%, rgba(0,0,0,1) 100%), 
                                  linear-gradient(to right, rgba(128,128,128,1) 0%, hsl(${360*ei}, 100%, 50%) 100%)`,backgroundBlendMode:"multiply"},onClick:e=>{if(!et.current)return;let t=et.current.getBoundingClientRect(),s=(e.clientX-t.left)/t.width,a=(e.clientY-t.top)/t.height;er({x:Math.max(0,Math.min(1,s)),y:Math.max(0,Math.min(1,a))}),ev(Math.max(0,Math.min(1,s)),Math.max(0,Math.min(1,a)),ei),y(null),J(!0)},className:"jsx-209409fde6660e8f relative h-32 w-full cursor-pointer rounded-md",children:(0,a.jsx)("div",{style:{left:`${100*ea.x}%`,top:`${100*ea.y}%`,backgroundColor:e||"#ffffff"},className:"jsx-209409fde6660e8f absolute h-4 w-4 -translate-x-1/2 -translate-y-1/2 rounded-full border-2 border-white"})}),(0,a.jsx)("div",{ref:es,style:{background:"linear-gradient(to right, #ff0000, #ffff00, #00ff00, #00ffff, #0000ff, #ff00ff, #ff0000)"},onClick:e=>{if(!es.current)return;let t=es.current.getBoundingClientRect(),s=(e.clientX-t.left)/t.width;en(Math.max(0,Math.min(1,s))),ev(ea.x,ea.y,Math.max(0,Math.min(1,s))),y(null),J(!0)},className:"jsx-209409fde6660e8f relative h-6 mt-2 cursor-pointer rounded-md",children:(0,a.jsx)("div",{style:{left:`${100*ei}%`},className:"jsx-209409fde6660e8f absolute top-0 h-full w-1 -translate-x-1/2 border-2 border-white"})}),(0,a.jsxs)("div",{className:"jsx-209409fde6660e8f mt-2 grid grid-cols-4 gap-2",children:[(0,a.jsxs)("div",{className:"jsx-209409fde6660e8f text-center",children:[(0,a.jsx)("div",{className:"jsx-209409fde6660e8f text-xs font-medium",children:"HEX"}),(0,a.jsx)(m.p,{value:e.replace("#",""),onChange:ej,className:"mt-1 text-center h-8",placeholder:"000000"})]}),(0,a.jsxs)("div",{className:"jsx-209409fde6660e8f text-center",children:[(0,a.jsx)("div",{className:"jsx-209409fde6660e8f text-xs font-medium",children:"R"}),(0,a.jsx)(m.p,{type:"number",min:"0",max:"255",value:W,onChange:e=>ew("r",e.target.value),className:"mt-1 text-center h-8"})]}),(0,a.jsxs)("div",{className:"jsx-209409fde6660e8f text-center",children:[(0,a.jsx)("div",{className:"jsx-209409fde6660e8f text-xs font-medium",children:"G"}),(0,a.jsx)(m.p,{type:"number",min:"0",max:"255",value:Y,onChange:e=>ew("g",e.target.value),className:"mt-1 text-center h-8"})]}),(0,a.jsxs)("div",{className:"jsx-209409fde6660e8f text-center",children:[(0,a.jsx)("div",{className:"jsx-209409fde6660e8f text-xs font-medium",children:"B"}),(0,a.jsx)(m.p,{type:"number",min:"0",max:"255",value:Z,onChange:e=>ew("b",e.target.value),className:"mt-1 text-center h-8"})]})]})]})]})}),f&&(0,a.jsx)("div",{className:"jsx-209409fde6660e8f text-sm text-red-600 text-center",children:f}),T&&(0,a.jsx)("div",{className:"jsx-209409fde6660e8f text-sm text-green-600 text-center",children:T}),(0,a.jsxs)("div",{className:"jsx-209409fde6660e8f flex gap-2 pt-2 mt-4",children:[(0,a.jsx)("button",{onClick:()=>{localStorage.removeItem("logoPreview"),q(null),L(null),J(!0),Q(!1)},disabled:s,className:"jsx-209409fde6660e8f rounded-md bg-black px-4 py-2 text-sm text-white disabled:opacity-50",children:"Reset"}),(0,a.jsx)("button",{onClick:ey,disabled:s||!U,className:"jsx-209409fde6660e8f rounded-md bg-black px-4 py-2 text-sm text-white disabled:opacity-50",children:"Save Changes"})]})]})]}),v&&!eu&&(0,a.jsx)("div",{className:"jsx-209409fde6660e8f fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"jsx-209409fde6660e8f bg-white rounded-lg p-6 max-w-sm w-full mx-4",children:[(0,a.jsxs)("div",{className:"jsx-209409fde6660e8f flex justify-between items-center mb-4",children:[(0,a.jsx)("h3",{className:"jsx-209409fde6660e8f text-lg font-semibold",children:"Special Offer"}),(0,a.jsx)("button",{onClick:()=>N(!1),className:"jsx-209409fde6660e8f text-gray-600 hover:text-gray-800",children:(0,a.jsx)(x.A,{className:"h-4 w-4"})})]}),(0,a.jsx)("p",{className:"jsx-209409fde6660e8f text-gray-600 mb-4",children:E}),(0,a.jsxs)("p",{className:"jsx-209409fde6660e8f text-sm text-gray-500 mb-6",children:["Your current subscription will end on: ",new Date(z).toLocaleDateString()]}),(0,a.jsxs)("div",{className:"jsx-209409fde6660e8f flex justify-end gap-4",children:[(0,a.jsx)("button",{onClick:eE,className:"jsx-209409fde6660e8f px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:"I want to cancel my subscription"}),(0,a.jsx)("button",{onClick:()=>{ex(!0)},className:"jsx-209409fde6660e8f px-4 py-2 bg-black text-white rounded-lg hover:bg-gray-800",children:"Yes, I accept the offer"})]})]})}),eu&&(0,a.jsx)("div",{className:"jsx-209409fde6660e8f fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"jsx-209409fde6660e8f bg-white rounded-lg p-6 max-w-sm w-full mx-4",children:[(0,a.jsxs)("div",{className:"jsx-209409fde6660e8f flex justify-between items-center mb-4",children:[(0,a.jsx)("h3",{className:"jsx-209409fde6660e8f text-lg font-semibold",children:"Payment Details"}),(0,a.jsx)("button",{onClick:()=>ex(!1),className:"jsx-209409fde6660e8f text-gray-600 hover:text-gray-800",children:(0,a.jsx)(x.A,{className:"h-4 w-4"})})]}),(0,a.jsx)(h.S8,{stripe:g,children:(0,a.jsx)(b,{onPaymentMethodCreated:eC})})]})}),em&&(0,a.jsx)("div",{className:"jsx-209409fde6660e8f fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"jsx-209409fde6660e8f bg-white rounded-lg p-6 max-w-sm w-full mx-4",children:[(0,a.jsxs)("div",{className:"jsx-209409fde6660e8f flex justify-between items-center mb-4",children:[(0,a.jsx)("h3",{className:"jsx-209409fde6660e8f text-lg font-semibold mb-4",children:"Renew Subscription"}),(0,a.jsx)("button",{onClick:()=>ef(!1),className:"jsx-209409fde6660e8f text-gray-600 hover:text-gray-800",children:(0,a.jsx)(x.A,{className:"h-4 w-4"})})]}),(0,a.jsx)(h.S8,{stripe:g,children:(0,a.jsx)(b,{onPaymentMethodCreated:eS})})]})}),k&&(0,a.jsx)("div",{className:"jsx-209409fde6660e8f fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsx)("div",{className:"jsx-209409fde6660e8f bg-white rounded-lg p-6 max-w-md w-full mx-4",children:(0,a.jsxs)("div",{className:"jsx-209409fde6660e8f text-center",children:[(0,a.jsx)("h3",{className:"jsx-209409fde6660e8f text-xl font-semibold mb-4",children:"No Active Subscription"}),(0,a.jsx)("p",{className:"jsx-209409fde6660e8f text-gray-600 mb-6",children:"You need an active subscription to access this feature. Please subscribe to continue using our platform."}),(0,a.jsx)("button",{onClick:()=>{localStorage.getItem("token")?(document.cookie="dashboardLock=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT",S(!1),window.location.href="/payment/currencySelection"):window.location.href="/signin"},className:"jsx-209409fde6660e8f px-6 py-3 bg-black text-white rounded-lg hover:bg-gray-800 transition-colors",children:"Subscribe Now"})]})})}),(0,a.jsx)(i(),{id:"209409fde6660e8f",children:".cancel-button.jsx-209409fde6660e8f{margin-top:20px;padding:10px 20px;background-color:#f44336;color:white;border:none;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;cursor:pointer;-webkit-transition:background-color.2s ease;-moz-transition:background-color.2s ease;-o-transition:background-color.2s ease;transition:background-color.2s ease}.cancel-button.jsx-209409fde6660e8f:hover{background-color:#d32f2f}.success-message.jsx-209409fde6660e8f{color:#2e7d32;padding:10px;margin:10px 0;border:1px solid#2e7d32;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;background-color:#f1f8e9}.modal-overlay.jsx-209409fde6660e8f{position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.5);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;z-index:1000}.modal-content.jsx-209409fde6660e8f{background:white;padding:24px;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;max-width:400px;width:90%}.modal-content.jsx-209409fde6660e8f h3.jsx-209409fde6660e8f{margin:0 0 16px 0;color:#333}.modal-content.jsx-209409fde6660e8f p.jsx-209409fde6660e8f{margin:0 0 24px 0;color:#666}.modal-actions.jsx-209409fde6660e8f{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-moz-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;gap:12px}.modal-button.jsx-209409fde6660e8f{padding:8px 16px;border:none;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;cursor:pointer;font-size:14px;-webkit-transition:background-color.2s ease;-moz-transition:background-color.2s ease;-o-transition:background-color.2s ease;transition:background-color.2s ease}.modal-button.cancel.jsx-209409fde6660e8f{background-color:#e0e0e0;color:#333}.modal-button.confirm.jsx-209409fde6660e8f{background-color:#2196F3;color:white}.modal-button.jsx-209409fde6660e8f:hover{opacity:.9}"})]})}},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},32192:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]])},33873:e=>{"use strict";e.exports=require("path")},39594:(e,t,s)=>{Promise.resolve().then(s.bind(s,83249))},42446:(e,t,s)=>{"use strict";s.d(t,{default:()=>c});var a=s(60687),r=s(43210),i=s(11860),n=s(96474),l=s(13964),o=s(57175),d=s(88233);function c(){let[e,t]=(0,r.useState)([]),[s,c]=(0,r.useState)(!0),[u,x]=(0,r.useState)(null),[m,f]=(0,r.useState)(!1),[h,p]=(0,r.useState)(!1),[g,b]=(0,r.useState)(null),[y,j]=(0,r.useState)(null),[w,v]=(0,r.useState)(""),[N,k]=(0,r.useState)(!1),[S,A]=(0,r.useState)(!1),[C,E]=(0,r.useState)(""),[I,z]=(0,r.useState)(!1),P=(0,r.useRef)(null),[T,F]=(0,r.useState)(0),D=e=>{b(e),f(!0)},O=async()=>{if(g){p(!0);try{let s=localStorage.getItem("businessId"),a=localStorage.getItem("token");if(!s||!a){x("Missing businessId or token"),p(!1);return}if(!(await fetch("https://wellnexai.com/api/business/delete-question",{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a.trim()}`},body:JSON.stringify({businessId:s,questionId:g})})).ok)throw Error("Failed to delete question");t(e.filter(e=>e.id!==g)),f(!1),b(null)}catch(e){x(e.message||"Failed to delete question")}finally{p(!1)}}},$=e=>{j(e.id),v(e.text)},B=async()=>{if(y&&w.trim())try{k(!0);let s=localStorage.getItem("token"),a=localStorage.getItem("businessId");if(!s||!a)throw Error("Missing businessId or token");if(console.log("Updating question:",{questionId:y,name:w.trim(),businessId:a}),!(await fetch("https://wellnexai.com/api/business/update-one-question",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({businessId:a,questions:{_id:y,name:w.trim()}})})).ok)throw Error("Failed to update question");t(e.map(e=>e.id===y?{...e,text:w.trim()}:e)),j(null),v("")}catch(e){x(e.message||"Failed to update question")}finally{k(!1)}},M=()=>{j(null),v("")},q=async()=>{if(!C.trim()){x("Please enter a question");return}if(e.length>=5){x("Maximum 5 questions allowed");return}A(!0),x(null);try{let e=localStorage.getItem("businessId"),s=localStorage.getItem("token");if(!e||!s)throw Error("Missing businessId or token");let a=await fetch("https://wellnexai.com/api/business/add-business-questions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({businessId:e,questions:[{name:C.trim()}]})}),r=await a.json();if(!a.ok)throw Error(r.message||"Failed to add question");let i={id:r.data?.[0]?._id||Date.now().toString(),text:C.trim(),createdAt:new Date().toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),active:!0,checked:!1};t(e=>[...e,i]),E(""),z(!1);let n=await fetch("https://wellnexai.com/api/business/get-questions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({businessId:e})}),l=await n.json();if(n.ok){let e=(l.data||[]).map(e=>({id:e._id,text:e.name,createdAt:new Date(e.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),active:!0,checked:!1}));t(e)}}catch(e){x(e.message||"Failed to add question")}finally{A(!1),z(!1)}};return(0,a.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between border-b border-gray-200 px-4 sm:px-6 py-4 gap-4",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold",children:"Business Questions"}),(0,a.jsxs)("div",{className:"rounded-full bg-black px-3 py-1 text-xs text-white w-fit",children:[e.length," Questions"]})]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:I?(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:"text",value:C,onChange:e=>E(e.target.value),placeholder:"Enter new question",className:"px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#987CF1] pr-8"}),(0,a.jsx)("button",{onClick:()=>z(!1),className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:(0,a.jsx)(i.A,{size:16})})]}),(0,a.jsxs)("button",{onClick:q,disabled:S||!C.trim(),className:"flex items-center gap-1 rounded-lg bg-black px-3 py-1.5 text-sm text-white disabled:opacity-50",children:[(0,a.jsx)(n.A,{size:16}),(0,a.jsx)("span",{children:S?"Adding...":"Add Question"})]})]}):(0,a.jsxs)("button",{onClick:()=>{z(!0),E("")},disabled:e.length>=5,className:"flex items-center gap-1 rounded-lg bg-black px-3 py-1.5 text-sm text-white disabled:opacity-50 disabled:cursor-not-allowed",title:e.length>=5?"Maximum 5 questions allowed":"",children:[(0,a.jsx)(n.A,{size:16}),(0,a.jsx)("span",{children:"Add Question"})]})})]}),(0,a.jsxs)("div",{className:"px-4 sm:px-6 py-2",children:[s&&(0,a.jsx)("div",{className:"text-center py-4 text-gray-500",children:"Loading questions..."}),u&&(0,a.jsx)("div",{className:"text-center py-4 text-red-500",children:u}),(0,a.jsxs)("div",{className:"hidden sm:grid grid-cols-[1fr_auto_auto_auto] items-center border-b border-gray-100 py-3 text-sm text-gray-500",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-6"}),(0,a.jsx)("div",{className:"flex items-center gap-1 font-medium",children:"Questions"})]}),(0,a.jsx)("div",{className:"w-32 font-medium text-right sm:text-left",children:"Last Edited"}),(0,a.jsx)("div",{className:"w-20 font-medium text-right sm:text-left",children:"Status"}),(0,a.jsx)("div",{className:"w-24"})]}),e.map(e=>(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_auto_auto_auto] items-center border-b border-gray-100 py-3 text-sm gap-2 sm:gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"flex h-6 w-6 items-center justify-center"}),y===e.id?(0,a.jsxs)("div",{className:"flex-1 flex items-center gap-2",children:[(0,a.jsx)("span",{ref:P,className:"invisible absolute whitespace-pre px-2 py-1 border border-transparent text-base font-normal",style:{fontFamily:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"},"aria-hidden":"true",children:w||e.text}),(0,a.jsx)("input",{type:"text",value:w,onChange:e=>v(e.target.value),className:"px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-[#987CF1]",disabled:N,style:{width:`${Math.max(T,200)}px`,minWidth:"200px",maxWidth:"100%"}}),(0,a.jsx)("button",{onClick:B,disabled:N,className:"p-1 text-green-600 hover:bg-green-50 rounded-full",children:(0,a.jsx)(l.A,{size:18})}),(0,a.jsx)("button",{onClick:M,disabled:N,className:"p-1 text-red-600 hover:bg-red-50 rounded-full",children:(0,a.jsx)(i.A,{size:18})})]}):(0,a.jsx)("div",{className:"flex-1",children:e.text})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between sm:justify-start",children:[(0,a.jsx)("span",{className:"sm:hidden text-gray-500",children:"Last Edited:"}),(0,a.jsx)("div",{className:"w-32 text-gray-500",children:e.createdAt})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between sm:justify-start",children:[(0,a.jsx)("span",{className:"sm:hidden text-gray-500",children:"Status:"}),(0,a.jsx)("div",{className:"w-20",children:e.active&&(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("div",{className:"h-1.5 w-1.5 rounded-full bg-green-500"}),(0,a.jsx)("span",{className:"text-green-600 ",children:"Active"})]})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,a.jsx)("button",{onClick:()=>$(e),disabled:N,className:"rounded-full p-1 hover:bg-gray-100",children:(0,a.jsx)(o.A,{size:18,className:"text-gray-500"})}),(0,a.jsx)("button",{onClick:()=>D(e.id),disabled:h,className:"rounded-full p-1 hover:bg-gray-100 disabled:opacity-50",children:(0,a.jsx)(d.A,{size:18,className:"text-gray-500"})})]})]},e.id))]}),m&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-sm w-full mx-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Delete Question"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete this question? This action cannot be undone."}),(0,a.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,a.jsx)("button",{onClick:()=>{f(!1),b(null)},className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",disabled:h,children:"Cancel"}),(0,a.jsx)("button",{onClick:O,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",disabled:h,children:h?"Deleting...":"Delete"})]})]})})]})}},50296:(e,t,s)=>{Promise.resolve().then(s.bind(s,82879)),Promise.resolve().then(s.bind(s,50820)),Promise.resolve().then(s.bind(s,15487)),Promise.resolve().then(s.bind(s,19125))},50820:(e,t,s)=>{"use strict";s.d(t,{default:()=>a});let a=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/muskan/Documents/wellnex-signup/components/dashboard/business-questions.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/muskan/Documents/wellnex-signup/components/dashboard/business-questions.tsx","default")},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},57175:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]])},60024:(e,t,s)=>{Promise.resolve().then(s.bind(s,84729)),Promise.resolve().then(s.bind(s,42446)),Promise.resolve().then(s.bind(s,23937)),Promise.resolve().then(s.bind(s,25399))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},64118:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var a=s(37413),r=s(50820),i=s(82879),n=s(19125),l=s(15487);function o(){return(0,a.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,a.jsx)(r.default,{}),(0,a.jsx)(i.default,{}),(0,a.jsx)(l.default,{}),(0,a.jsx)(n.default,{})]})}},64129:(e,t,s)=>{"use strict";s.d(t,{d:()=>n});var a=s(51060);let r="https://wellnexai.com/api";a.A.create({baseURL:r,headers:{"Content-Type":"application/json"}});let i=async e=>{if(!e.ok)throw Error((await e.json()).message||"Something went wrong");return e.json()},n={signup:async e=>i(await fetch(`${r}/business/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})),sendVerificationEmail:async(e,t)=>i(await fetch(`${r}/business/sendVerificationEmail`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({businessId:t})})),verifyEmailByLink:async(e,t)=>i(await fetch(`${r}/business/verifyEmailByLink`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({verificationToken:t,_id:e})})),uploadLogo:async(e,t,s)=>{let a=new FormData;a.append("logo",e),a.append("businessId",s);try{let e=await fetch("https://wellnexai.com/api/business/uploadBusinessLogo",{method:"POST",headers:{Authorization:`Bearer ${t}`},body:a}),s=await e.json();if(!e.ok)throw Error(s.message||"Failed to upload logo");let r=s.logoUrl;return r&&!r.startsWith("https://wellnexai.com")&&(r=`https://wellnexai.com${r.startsWith("/")?"":"/"}${r}`),{...s,logoUrl:r}}catch(e){throw e}},setThemeColor:async(e,t,s)=>{try{let a=s?JSON.stringify({themeColor:e,businessId:s}):JSON.stringify({themeColor:e}),r=await fetch("https://wellnexai.com/api/business/setBusinessThemeColor",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:a}),i=await r.json();if(!r.ok)throw Error(i.message||"Failed to set theme color");return i}catch(e){throw e}},addBusinessKeywords:async(e,t,s)=>{try{let a=await fetch("https://wellnexai.com/api/business/addBusinessKeywords",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({keywords:e,businessId:s,replace:!0})}),r=await a.json();if(!a.ok)throw Error(r.message||"Failed to add keywords");return r}catch(e){throw e}},signin:async(e,t)=>{let s=void 0,a={email:e,password:t};s&&(a.businessId=s);let r=await fetch("https://wellnexai.com/api/business/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),i=await r.json();if(!r.ok||!i.status)throw Error(i.message||"Invalid email or password");return i},setupChatbot:async(e,t,s)=>{let a=await fetch(`${r}/business/add-business-questions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({businessId:e,questions:t})});if(!a.ok)throw Error((await a.json()).message||"Failed to setup chatbot");return a.json()},forgotPassword:async e=>{console.log("Making forgot password request for email:",e);try{let t=await fetch(`${r}/business/forgotPassword`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}),s=await t.json();if(console.log("Forgot password API response:",s),!t.ok)throw Error(s.message||"Failed to send reset password email");return s}catch(e){throw console.error("Error in forgotPassword API:",e),e}},resetPassword:async(e,t)=>{let s=await fetch(`${r}/business/resetPassword`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:e,token:t})});if(!s.ok)throw Error((await s.json()).message||"Failed to reset password");return s.json()},checkVerificationStatus:async(e,t)=>{try{let s=await fetch(`${r}/business/verify-status`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({businessId:e})}),a=await s.json();if(!s.ok)throw Error(a.message||"Failed to check verification status");return a}catch(e){throw console.error("Error checking verification status:",e),e}}}},68988:(e,t,s)=>{"use strict";s.d(t,{p:()=>n});var a=s(60687),r=s(43210),i=s(96241);let n=r.forwardRef(({className:e,type:t,...s},r)=>(0,a.jsx)("input",{type:t,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...s}));n.displayName="Input"},74075:e=>{"use strict";e.exports=require("zlib")},76169:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>d});var a=s(65239),r=s(48088),i=s(88170),n=s.n(i),l=s(30893),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let d={children:["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,64118)),"/Users/muskan/Documents/wellnex-signup/app/dashboard/page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,83249)),"/Users/muskan/Documents/wellnex-signup/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,58014)),"/Users/muskan/Documents/wellnex-signup/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/Users/muskan/Documents/wellnex-signup/app/dashboard/page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},78272:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},82879:(e,t,s)=>{"use strict";s.d(t,{default:()=>a});let a=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/muskan/Documents/wellnex-signup/components/dashboard/business-keywords.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/muskan/Documents/wellnex-signup/components/dashboard/business-keywords.tsx","default")},83249:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/muskan/Documents/wellnex-signup/app/dashboard/layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/muskan/Documents/wellnex-signup/app/dashboard/layout.tsx","default")},83997:e=>{"use strict";e.exports=require("tty")},84729:(e,t,s)=>{"use strict";s.d(t,{default:()=>c});var a=s(60687),r=s(43210),i=s(96474),n=s(11860),l=s(13964),o=s(57175),d=s(88233);function c(){let[e,t]=(0,r.useState)([]),[s,c]=(0,r.useState)(!0),[u,x]=(0,r.useState)(null),[m,f]=(0,r.useState)(!1),[h,p]=(0,r.useState)(!1),[g,b]=(0,r.useState)(null),[y,j]=(0,r.useState)(null),[w,v]=(0,r.useState)(""),[N,k]=(0,r.useState)(!1),[S,A]=(0,r.useState)(""),[C,E]=(0,r.useState)(!1),[I,z]=(0,r.useState)(!1),P=async()=>{try{let e=localStorage.getItem("token"),s=localStorage.getItem("businessId"),a=await fetch("https://wellnexai.com/api/business/getKeywords",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({businessId:s})});if(!a.ok)throw Error("Failed to fetch keywords");let r=await a.json();if(!r.status||200!==r.code)throw Error(r.message||"Failed to fetch keywords");let i=r.data;if(!Array.isArray(i))throw Error("Invalid response format: expected an array of keywords");let n=i.map(e=>({id:e._id,name:e.name,createdAt:new Date(e.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),active:!0,checked:!1}));t(n)}catch(e){x(e instanceof Error?e.message:"An error occurred")}finally{c(!1)}},T=e=>{b(e),p(!0)},F=async()=>{if(g)try{let e;f(!0);let t=localStorage.getItem("token"),s=localStorage.getItem("businessId");if(!t)throw Error("Authentication token not found");let a=await fetch("https://wellnexai.com/api/business/deleteKeyword",{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.trim()}`},body:JSON.stringify({keywordId:g,businessId:s})}),r=await a.text();try{e=JSON.parse(r)}catch(e){throw Error(`Invalid JSON response: ${r}`)}if(!e.status||200!==e.code)throw Error(e.message||"Failed to delete keyword");await P(),p(!1),b(null)}catch(e){console.error("Delete error:",e),x(e instanceof Error?e.message:"Failed to delete keyword")}finally{f(!1)}},D=e=>{j(e.id),v(e.name)},O=async()=>{if(y&&w.trim())try{let e;k(!0);let t=localStorage.getItem("token"),s=localStorage.getItem("businessId");if(!t)throw Error("Authentication token not found");let a=await fetch("https://wellnexai.com/api/business/updateOneKeyword",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.trim()}`},body:JSON.stringify({keywords:{_id:y,name:w.trim()},businessId:s})}),r=await a.text();try{e=JSON.parse(r)}catch(e){throw Error(`Invalid JSON response: ${r}`)}if(!e.status||200!==e.code)throw Error(e.message||"Failed to update keyword");await P(),j(null),v("")}catch(e){console.error("Update error:",e),x(e instanceof Error?e.message:"Failed to update keyword")}finally{k(!1)}},$=()=>{j(null),v("")},B=async()=>{if(S.trim())try{E(!0),x(null);let e=localStorage.getItem("token"),t=localStorage.getItem("businessId");if(!e||!t)throw Error("Authentication token or business ID not found");let s=await fetch("https://wellnexai.com/api/business/addBusinessKeywords",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.trim()}`},body:JSON.stringify({keywords:[{name:S.trim()}],businessId:t,replace:!1})}),a=await s.json();if(!a.status||200!==a.code)throw Error(a.message||"Failed to add keyword");await P(),A(""),z(!1)}catch(e){console.error("Add keyword error:",e),x(e instanceof Error?e.message:"Failed to add keyword")}finally{E(!1)}};return s?(0,a.jsx)("div",{className:"rounded-lg border border-gray-200 bg-white p-8",children:(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})})}):u?(0,a.jsx)("div",{className:"rounded-lg border border-gray-200 bg-white p-8",children:(0,a.jsxs)("div",{className:"text-center text-red-600",children:["Error: ",u]})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between border-b border-gray-200 px-4 sm:px-6 py-4 gap-4",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold",children:"Business Keywords"}),(0,a.jsxs)("div",{className:"rounded-full bg-black px-3 py-1 text-xs text-white w-fit",children:[e.length," Keywords"]})]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:e.length<10&&(I?(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:"text",value:S,onChange:e=>A(e.target.value),placeholder:"Enter keyword",className:"px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#987CF1] pr-8",disabled:C}),(0,a.jsx)("button",{onClick:()=>{z(!1),A("")},className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:(0,a.jsx)(n.A,{size:14})})]}),(0,a.jsxs)("button",{onClick:B,disabled:C||!S.trim(),className:"flex items-center gap-1 rounded-lg bg-black px-3 py-1.5 text-sm text-white disabled:opacity-50",children:[(0,a.jsx)(i.A,{size:16}),C?"Adding...":"Add keyword"]})]}):(0,a.jsxs)("button",{onClick:()=>z(!0),className:"flex items-center gap-1 rounded-lg bg-black px-3 py-1.5 text-sm text-white",children:[(0,a.jsx)(i.A,{size:16}),(0,a.jsx)("span",{children:"Add Keyword"})]}))})]}),(0,a.jsxs)("div",{className:"px-4 sm:px-6 py-2",children:[(0,a.jsxs)("div",{className:"hidden sm:grid grid-cols-[1fr_auto_auto_auto] items-center border-b border-gray-100 py-3 text-sm text-gray-500",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-6"}),(0,a.jsx)("div",{className:"flex items-center gap-1 font-medium",children:"Keywords"})]}),(0,a.jsx)("div",{className:"w-32 font-medium text-right sm:text-left",children:"Last Edited"}),(0,a.jsx)("div",{className:"w-20 font-medium text-right sm:text-left",children:"Status"}),(0,a.jsx)("div",{className:"w-24"})]}),e.map(e=>(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_auto_auto_auto] items-center border-b border-gray-100 py-3 text-sm gap-2 sm:gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"flex h-6 w-6 items-center justify-center"}),y===e.id?(0,a.jsxs)("div",{className:"flex-1 flex items-center gap-2",children:[(0,a.jsx)("input",{type:"text",value:w,onChange:e=>v(e.target.value),className:"px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-[#987CF1]",style:{width:`${8*w.length}px`,minWidth:"100px"},disabled:N}),(0,a.jsx)("button",{onClick:O,disabled:N,className:"p-1 text-green-600 hover:bg-green-50 rounded-full",children:(0,a.jsx)(l.A,{size:18})}),(0,a.jsx)("button",{onClick:$,disabled:N,className:"p-1 text-red-600 hover:bg-red-50 rounded-full",children:(0,a.jsx)(n.A,{size:18})})]}):(0,a.jsx)("div",{className:"flex-1",children:e.name})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between sm:justify-start",children:[(0,a.jsx)("span",{className:"sm:hidden text-gray-500",children:"Last Edited:"}),(0,a.jsx)("div",{className:"w-32 text-gray-500",children:e.createdAt})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between sm:justify-start",children:[(0,a.jsx)("span",{className:"sm:hidden text-gray-500",children:"Status:"}),(0,a.jsx)("div",{className:"w-20",children:e.active&&(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("div",{className:"h-1.5 w-1.5 rounded-full bg-green-500"}),(0,a.jsx)("span",{className:"text-green-600",children:"Active"})]})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,a.jsx)("button",{onClick:()=>D(e),disabled:N,className:"rounded-full p-1 hover:bg-gray-100",children:(0,a.jsx)(o.A,{size:18,className:"text-gray-500"})}),(0,a.jsx)("button",{onClick:()=>T(e.id),disabled:m||N,className:"rounded-full p-1 hover:bg-gray-100 disabled:opacity-50",children:(0,a.jsx)(d.A,{size:18,className:"text-gray-500"})})]})]},e.id))]})]}),h&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-sm w-full mx-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Delete Keyword"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete this keyword? This action cannot be undone."}),(0,a.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,a.jsx)("button",{onClick:()=>{p(!1),b(null)},className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",disabled:m,children:"Cancel"}),(0,a.jsx)("button",{onClick:F,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",disabled:m,children:m?"Deleting...":"Delete"})]})]})})]})}},88233:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},94735:e=>{"use strict";e.exports=require("events")},96241:(e,t,s)=>{"use strict";s.d(t,{cn:()=>i});var a=s(49384),r=s(82348);function i(...e){return(0,r.QP)((0,a.$)(e))}},96474:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[744,598,60,889,69,580,633],()=>s(76169));module.exports=a})();