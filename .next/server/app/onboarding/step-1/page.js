(()=>{var e={};e.id=179,e.ids=[179],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9005:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(62688).A)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},10497:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var s=r(60687),o=r(35738),a=r(43210),n=r(24934),i=r(30474),l=r(9005),d=r(28015),c=r(64129);let u=5242880,p=(e,t=u)=>new Promise((t,r)=>{let s=document.createElement("canvas"),o=s.getContext("2d"),a=new window.Image;a.onload=()=>{let{width:n,height:i}=a;n>i?n>800&&(i=800*i/n,n=800):i>800&&(n=800*n/i,i=800),s.width=n,s.height=i,o&&o.drawImage(a,0,0,n,i),s.toBlob(s=>{s?t(new File([s],e.name,{type:"image/png",lastModified:Date.now()})):r(Error("Failed to compress image"))},"image/png",.8)},a.onerror=()=>r(Error("Failed to load image")),a.src=URL.createObjectURL(e)});function h({onFileSelect:e}){let{formData:t,updateFormData:r}=(0,d.z)(),[o,c]=(0,a.useState)(null),[h,m]=(0,a.useState)(null),[g,f]=(0,a.useState)(!1),w=async t=>{let r=t.target.files?.[0];if(c(null),r){if(!r.type.includes("png")){c("Please upload a PNG file only");return}if(r.size>u){c(`File size must be less than ${u/1048576}MB. Current size: ${(r.size/1048576).toFixed(2)}MB`);return}try{f(!0);let t=r;r.size>1048576&&(t=await p(r));let s=new FileReader;s.onload=r=>{let s=r.target?.result;m(s),e(t)},s.readAsDataURL(t)}catch(e){console.error("Error processing file:",e),c("Failed to process image. Please try again.")}finally{f(!1)}}};return(0,s.jsx)(a.Suspense,{children:(0,s.jsxs)("div",{className:"w-full space-y-4 font-[DM_Sans]",children:[(0,s.jsxs)("p",{className:"text-center font-[DM_Sans] text-sm font-medium",children:["Upload Company Logo (.png format only, max ",u/1048576,"MB)"]}),(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)("div",{className:"relative mb-4 h-32 w-32 overflow-hidden rounded-full bg-gray-100",children:h||t.logo?(0,s.jsx)(i.default,{src:h||t.logo||"/placeholder.svg",alt:"Uploaded logo",fill:!0,className:"object-cover"}):(0,s.jsx)("div",{className:"flex h-full w-full items-center justify-center",children:(0,s.jsx)(l.A,{className:"h-12 w-12 text-gray-400"})})}),(0,s.jsx)("input",{type:"file",accept:".png",id:"logo-upload",className:"hidden",onChange:w}),(0,s.jsx)("label",{htmlFor:"logo-upload",children:(0,s.jsx)(n.$,{className:"cursor-pointer bg-[#987CF1] text-white border-none hover:bg-[#987CF1] hover:text-white focus:bg-[#987CF1] focus:text-white active:bg-[#987CF1] active:text-white",asChild:!0,disabled:g,children:(0,s.jsx)("span",{children:g?"Processing...":"Upload Logo"})})}),o&&(0,s.jsx)("p",{className:"mt-2 text-sm text-red-500",children:o})]})]})})}function m(){let{nextStep:e,updateFormData:t}=(0,d.z)(),[r,n]=(0,a.useState)(null),[i,l]=(0,a.useState)(null),[c,u]=(0,a.useState)(!1),p=async()=>{if(!r){l("Please select a logo before proceeding");return}try{l(null),u(!0);let s=await h.uploadLogo(r);t({logo:s}),e()}catch(e){console.error("Error uploading logo:",e),l("Failed to upload logo. Please try again."),u(!1)}};return(0,s.jsxs)(o.A,{title:"Now, let's upload your logo.",description:"Your logo will appear on your AI chatbot to match your brand and create a trusted experience for your customers.",onNext:p,hasData:!!r,nextDisabled:c,children:[(0,s.jsx)(h,{onFileSelect:n}),i&&(0,s.jsx)("p",{className:"mt-2 text-sm text-red-500 text-center",children:i})]})}h.uploadLogo=async e=>{let t=localStorage.getItem("token"),r=localStorage.getItem("businessId");if(!t||!r)throw Error("No authentication token or business ID found");return(await c.d.uploadLogo(e,t,r)).logoUrl}},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},14248:(e,t,r)=>{Promise.resolve().then(r.bind(r,10497))},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},43752:(e,t,r)=>{Promise.resolve().then(r.bind(r,69348))},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},61562:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var s=r(65239),o=r(48088),a=r(88170),n=r.n(a),i=r(30893),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let d={children:["",{children:["onboarding",{children:["step-1",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,69348)),"/Users/muskan/Documents/wellnex/app/onboarding/step-1/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,92142)),"/Users/muskan/Documents/wellnex/app/onboarding/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,58014)),"/Users/muskan/Documents/wellnex/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/Users/muskan/Documents/wellnex/app/onboarding/step-1/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:o.RouteKind.APP_PAGE,page:"/onboarding/step-1/page",pathname:"/onboarding/step-1",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},62688:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var s=r(43210);let o=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),a=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,s.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:o,className:i="",children:l,iconNode:d,...c},u)=>(0,s.createElement)("svg",{ref:u,...n,width:t,height:t,stroke:e,strokeWidth:o?24*Number(r)/Number(t):r,className:a("lucide",i),...c},[...d.map(([e,t])=>(0,s.createElement)(e,t)),...Array.isArray(l)?l:[l]])),l=(e,t)=>{let r=(0,s.forwardRef)(({className:r,...n},l)=>(0,s.createElement)(i,{ref:l,iconNode:t,className:a(`lucide-${o(e)}`,r),...n}));return r.displayName=`${e}`,r}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},64129:(e,t,r)=>{"use strict";r.d(t,{d:()=>n});var s=r(51060);let o="https://wellnexai.com/api";s.A.create({baseURL:o,headers:{"Content-Type":"application/json"}});let a=async e=>{if(!e.ok)throw Error((await e.json()).message||"Something went wrong");return e.json()},n={signup:async e=>a(await fetch(`${o}/business/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})),sendVerificationEmail:async(e,t)=>a(await fetch(`${o}/business/sendVerificationEmail`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({businessId:t})})),verifyEmailByLink:async(e,t)=>a(await fetch(`${o}/business/verifyEmailByLink`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({verificationToken:t,_id:e})})),uploadLogo:async(e,t,r)=>{let s=new FormData;s.append("logo",e),s.append("businessId",r);try{let e=await fetch("https://wellnexai.com/api/business/uploadBusinessLogo",{method:"POST",headers:{Authorization:`Bearer ${t}`},body:s});if(413===e.status)throw Error("File size too large. Please use a smaller image (max 5MB).");let r=await e.json();if(!e.ok)throw Error(r.message||"Failed to upload logo");let o=r.logoUrl;return o&&!o.startsWith("https://wellnexai.com")&&(o=`https://wellnexai.com${o.startsWith("/")?"":"/"}${o}`),{...r,logoUrl:o}}catch(e){if(e instanceof TypeError&&e.message.includes("fetch"))throw Error("Network error. Please check your connection and try again.");throw e}},setThemeColor:async(e,t,r)=>{try{let s=r?JSON.stringify({themeColor:e,businessId:r}):JSON.stringify({themeColor:e}),o=await fetch("https://wellnexai.com/api/business/setBusinessThemeColor",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:s}),a=await o.json();if(!o.ok)throw Error(a.message||"Failed to set theme color");return a}catch(e){throw e}},addBusinessKeywords:async(e,t,r)=>{try{let s=await fetch("https://wellnexai.com/api/business/addBusinessKeywords",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({keywords:e,businessId:r,replace:!0})}),o=await s.json();if(!s.ok)throw Error(o.message||"Failed to add keywords");return o}catch(e){throw e}},signin:async(e,t)=>{let r=void 0,s={email:e,password:t};r&&(s.businessId=r);let o=await fetch("https://wellnexai.com/api/business/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),a=await o.json();if(!o.ok||!a.status)throw Error(a.message||"Invalid email or password");return a},setupChatbot:async(e,t,r)=>{let s=await fetch(`${o}/business/add-business-questions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({businessId:e,questions:t})});if(!s.ok)throw Error((await s.json()).message||"Failed to setup chatbot");return s.json()},forgotPassword:async e=>{try{let t=await fetch(`${o}/business/forgotPassword`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}),r=await t.json();if(!t.ok)throw Error(r.message||"Failed to send reset password email");return r}catch(e){throw console.error("Error in forgotPassword API:",e),e}},resetPassword:async(e,t)=>{let r=await fetch(`${o}/business/resetPassword`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:e,token:t})});if(!r.ok)throw Error((await r.json()).message||"Failed to reset password");return r.json()},checkVerificationStatus:async(e,t)=>{try{let r=await fetch(`${o}/business/verify-status`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({businessId:e})}),s=await r.json();if(!r.ok)throw Error(s.message||"Failed to check verification status");return s}catch(e){throw console.error("Error checking verification status:",e),e}}}},69348:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/muskan/Documents/wellnex/app/onboarding/step-1/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/muskan/Documents/wellnex/app/onboarding/step-1/page.tsx","default")},74075:e=>{"use strict";e.exports=require("zlib")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},83997:e=>{"use strict";e.exports=require("tty")},94735:e=>{"use strict";e.exports=require("events")}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[744,598,60,69,540],()=>r(61562));module.exports=s})();